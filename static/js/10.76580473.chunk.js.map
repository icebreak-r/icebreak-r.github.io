{"version":3,"sources":["state/predictionsWithToken/helpers.ts","views/PredictionsWithToken/components/History/Header.tsx","state/predictionsWithToken/queries.ts","state/predictionsWithToken/index.ts","views/PredictionsWithToken/hooks/useGetLatestOraclePrice.ts","views/PredictionsWithToken/hooks/usePollOraclePrice.ts","views/PredictionsWithToken/hooks/usePollRoundData.ts","views/PredictionsWithToken/components/Container.tsx","views/PredictionsWithToken/components/CollectWinningsPopup.tsx","views/PredictionsWithToken/context/SwiperProvider.tsx","views/PredictionsWithToken/components/TradingView.tsx","views/PredictionsWithToken/components/Notification/Notification.tsx","views/PredictionsWithToken/components/Notification/ErrorNotification.tsx","views/PredictionsWithToken/components/Notification/PauseNotification.tsx","views/PredictionsWithToken/helpers.ts","views/PredictionsWithToken/components/CollectRoundWinningsModal.tsx","views/PredictionsWithToken/components/CollectWinningsButton.tsx","views/PredictionsWithToken/components/ReclaimPositionButton.tsx","views/PredictionsWithToken/components/PositionTag.tsx","views/PredictionsWithToken/components/RoundResult/styles.tsx","views/PredictionsWithToken/components/RoundResult/RoundResult.tsx","views/PredictionsWithToken/hooks/useIsRefundable.ts","views/PredictionsWithToken/components/History/BetResult.tsx","views/PredictionsWithToken/components/History/BetDetails.tsx","views/PredictionsWithToken/components/History/HistoricalBet.tsx","views/PredictionsWithToken/components/History/RoundsTab.tsx","views/PredictionsWithToken/components/History/PnlTab/PnlChartStyles.tsx","views/PredictionsWithToken/components/History/PnlTab/PnlChart.tsx","views/PredictionsWithToken/components/History/PnlTab/SummaryRow.tsx","views/PredictionsWithToken/components/History/PnlTab/PnlTab.tsx","views/PredictionsWithToken/History.tsx","views/PredictionsWithToken/RoundMultiplierArrows.tsx","views/PredictionsWithToken/components/RoundCard/EnteredTag.tsx","views/PredictionsWithToken/components/RoundCard/MultiplierArrow.tsx","views/PredictionsWithToken/components/RoundCard/Card.tsx","views/PredictionsWithToken/components/RoundCard/CardHeader.tsx","views/PredictionsWithToken/components/RoundCard/CollectWinningsOverlay.tsx","views/PredictionsWithToken/components/RoundCard/CanceledRoundCard.tsx","views/PredictionsWithToken/components/RoundCard/ExpiredRoundCard.tsx","views/PredictionsWithToken/components/RoundCard/CalculatingCard.tsx","views/PredictionsWithToken/components/RoundCard/LiveRoundCard.tsx","views/PredictionsWithToken/components/CardFlip.tsx","views/PredictionsWithToken/hooks/useSwiper.ts","views/PredictionsWithToken/components/FlexRow.tsx","views/PredictionsWithToken/components/RoundCard/SetPositionCard.tsx","views/PredictionsWithToken/components/RoundCard/ApproveCard.tsx","views/PredictionsWithToken/components/RoundCard/OpenRoundCard.tsx","views/PredictionsWithToken/hooks/useRoundCountdown.ts","views/PredictionsWithToken/components/RoundCard/SoonRoundCard.tsx","views/PredictionsWithToken/components/RoundCard/index.tsx","views/PredictionsWithToken/components/Label.tsx","views/PredictionsWithToken/components/PrevNextNav.tsx","views/PredictionsWithToken/components/HistoryButton.tsx","views/PredictionsWithToken/components/Menu.tsx","views/PredictionsWithToken/hooks/useOnNextRound.ts","views/PredictionsWithToken/Positions.tsx","views/PredictionsWithToken/Mobile.tsx","views/PredictionsWithToken/Desktop.tsx","views/PredictionsWithToken/components/MobileMenu.tsx","views/PredictionsWithToken/Chart.tsx","views/PredictionsWithToken/components/RiskDisclaimer.tsx","views/PredictionsWithToken/components/ChartDisclaimer.tsx","views/PredictionsWithToken/index.tsx","views/Predictions/helpers.ts","utils/bscscan.ts","hooks/useTokenBalance.ts","hooks/useAllowance.ts","components/BlockProgress.tsx","hooks/useGetBlockCountdown.ts"],"names":["Result","HistoryTabs","numberOrNull","value","valueNum","Number","isNaN","makeFutureRoundResponse","epoch","startBlock","id","toString","failed","startAt","lockAt","lockBlock","lockPrice","endBlock","closePrice","totalBets","totalAmount","bearBets","bullBets","bearAmount","bullAmount","position","bets","transformBetResponse","betResponse","bet","hash","amount","parseFloat","BetPosition","BULL","BEAR","claimed","user","address","block","totalBNB","round","transformRoundResponse","roundResponse","positionResponse","map","makeRoundData","rounds","reduce","accum","getRoundResult","currentEpoch","CANCELED","LIVE","roundResultPosition","WIN","LOSE","getCanClaim","getStaticPredictionsData","a","getPredictionsWithTokenContract","methods","makeBatchRequest","call","intervalBlocks","minBetAmount","paused","bufferBlocks","isPaused","status","PredictionStatus","PAUSED","getMarketData","request","GRAPH_API_PREDICTION_WITH_TOKEN","gql","response","market","marketResponse","getBetHistory","where","first","skip","getBet","betId","toLowerCase","initialState","INITIAL","isLoading","isHistoryPaneOpen","isChartPaneOpen","isFetchingHistory","historyFilter","HistoryFilter","ALL","currentRoundStartBlockNumber","lastOraclePrice","BIG_ZERO","toJSON","history","fetchBet","createAsyncThunk","account","fetchRoundBet","roundId","betResponses","length","fetchCurrentBets","roundIds","round_in","fetchHistory","predictionsSlice","createSlice","name","reducers","setPredictionStatus","state","action","payload","setHistoryPaneState","setChartPaneState","setHistoryFilter","initialize","updateMarketData","newRoundData","incomingCurrentRound","maxBy","newestRound","futureRound","setCurrentEpoch","markBetAsCollected","accountBets","markPositionAsEntered","setLastOraclePrice","extraReducers","builder","addCase","fulfilled","betData","merge","filter","currentBet","pending","rejected","actions","useGetLatestOraclePrice","useState","price","setPrice","useLastUpdated","lastUpdated","refresh","setLastUpdated","chainlinkOracleContract","useChainlinkOracleContract","useEffect","latestAnswer","getBalanceAmount","BigNumber","fetchPrice","usePollOraclePrice","seconds","dispatch","useAppDispatch","timer","setInterval","clearInterval","usePollRoundData","useWeb3React","marketData","POLL_TIME_IN_SECONDS","Container","styled","div","theme","colors","gradients","violetAlt","bounceInKeyframe","keyframes","bounceOutKeyframe","bounceInAnimation","css","bounceOutAnimation","Wrapper","mediaQueries","md","Popup","secondary","CollectWinningsPopup","isOpen","setIsOpen","t","useTranslation","ref","useRef","predictionStatus","useGetPredictionsStatus","useIsHistoryPaneOpen","isCancelled","current","winnerBets","CSSTransition","in","unmountOnExit","nodeRef","timeout","classNames","width","style","flex","mr","onClick","variant","color","SwiperContext","createContext","undefined","SwiperProvider","children","swiper","setSwiper","Provider","destroySwiper","destroy","tradingViewListener","Promise","resolve","Object","defineProperty","window","configurable","set","this","tv","initializeTradingView","TradingViewObj","localeCode","widget","autosize","height","symbol","interval","timezone","isDark","locale","toolbar_bg","enable_publishing","allow_symbol_change","container_id","TradingView","currentLanguage","useTheme","code","then","overflow","className","CardWrapper","BunnyDecoration","Notification","title","src","alt","mb","ErrorNotification","as","PauseNotification","getBnbAmount","bnbBn","getTokenAmount","tokenAmt","getTokenBalanceAmount","formatUsd","usd","formatNumber","formatBnb","bnb","toLocaleString","minimumFractionDigits","maximumFractionDigits","padTime","num","padStart","formatRoundTime","secondsBetweenBlocks","getTimePeriods","hours","minutes","minutesSeconds","getMultiplier","total","getPayout","multiplier","getBubbleGumBackground","Modal","ModalContainer","CollectRoundWinningsModal","payout","onDismiss","onSuccess","isPendingTx","setIsPendingTx","useToast","toastSuccess","toastError","predictionsContract","usePredictionsWithTokenContract","bnbBusdPrice","usePriceBnbBusd","minWidth","mt","p","mx","alignItems","justifyContent","textAlign","fontSize","times","toNumber","claim","send","from","once","result","transactionHash","href","getBscScanTransactionUrl","error","message","console","endIcon","spin","CollectWinningsButton","hasClaimed","props","useModal","onPresentCollectWinningsModal","disabled","ReclaimPositionButton","StyledTag","Flex","bg","Tag","startIcon","icon","borderRadius","py","px","cursor","textTransform","ml","PositionTag","betPosition","isUpPosition","getTokenPrizePoolAmount","formatToken","Row","PrizePoolRow","bold","PayoutRow","positionLabel","formattedMultiplier","lineHeight","LockPriceRow","Background","Box","isNext","isLive","hasEntered","success","failure","cardBorder","StyledRoundResultBox","card","background","RoundResultBox","RoundResult","isPositionUp","priceDifference","useIsRefundable","isRefundable","setIsRefundable","claimable","refundable","fetchRefundableStatus","StyledBetResult","textDisabled","BetResult","canClaim","useBetCanClaim","getHeaderColor","handleSuccess","getHeaderText","getHeaderIcon","getResultColor","StyledBetDetails","dropdown","BetDetails","bullMultiplier","bearMultiplier","getBscScanBlockNumberUrl","external","StyledBet","attrs","YourResult","HistoricalBet","useGetCurrentEpoch","roundResult","resultTextColor","getRoundColor","resultTextPrefix","isOpenRound","isLiveRound","role","scale","Filter","label","StyledHeader","ButtonMenuContainer","getClaimParam","COLLECTED","UNCOLLECTED","Header","activeTab","setActiveTab","useGetHistoryFilter","useGetIsFetchingHistory","handleChange","newFilter","switchTab","tabIndex","size","activeIndex","onItemClick","ROUNDS","checked","onChange","RoundsTab","hasBetHistory","orderBy","DrawAnimation","OffsetAnimation","offset","SVG","svg","DefaultSlice","circle","LostSlice","WonSlice","Info","CIRCUMFERENCE","PnlChart","lost","won","percentageWon","toFixed","paintLost","paintWon","viewBox","r","cx","cy","small","summaryTypeColors","entered","summaryTypeSigns","SummaryRow","type","summary","roundsInPercents","typeTranslationKey","charAt","toUpperCase","slice","displayAmount","flexDirection","toLocaleLowerCase","Divider","backgroundDisabled","initialPnlSummary","bestRound","getPnlSummary","rawPayout","getNetPayout","PnlTab","netResultAmount","netResultIsPositive","avgPositionEntered","avgBnbWonPerRound","avgBnbWonIsPositive","hasBestRound","pb","pl","getBscScanAddressUrl","StyledHistory","BetWrapper","SpinnerWrapper","History","useGetHistoryByAccount","results","getUnclaimedWinningBets","activeTabComponent","PNL","UnlockButton","RoundMultiplierDownArrow","isActive","fill","d","x","y","filterUnits","colorInterpolationFilters","floodOpacity","mode","in2","values","stdDeviation","operator","k2","k3","RoundMultiplierUpArrow","StyledEnteredTag","EnteredTag","useTooltip","whiteSpace","placement","targetRef","tooltipVisible","tooltip","ArrowWrapper","Content","EnteredTagWrapper","getTextColor","fallback","isDisabled","MultiplierArrow","betAmount","upColor","downColor","textColor","multiplierText","getEnteredTag","bottom","right","top","left","Card","UIKitCard","getTextColorByStatus","StyledCardHeader","cardHeader","warning","getBackgroundColor","Round","CardHeader","isBottom","CollectWinningsOverlay","CanceledRoundCard","useGetTotalIntervalBlocks","estimatedEndBlock","blockNumber","my","StyledExpiredRoundCard","ExpiredRoundCard","hasEnteredUp","hasEnteredDown","useGetBetByRoundId","CalculatingCard","GradientBorder","GradientCard","LiveRoundCard","currentBlock","useBlock","totalInterval","useGetIntervalBlocks","useGetLastOraclePrice","isBull","gt","priceColor","minus","useCountUp","start","end","duration","decimals","countUp","update","BlockProgress","minHeight","Front","Back","Inner","isFlipped","StyledCardFlip","CardFlip","Error","getComponents","front","back","useSwiper","swiperContext","useContext","FlexRow","icebrk","tokens","cake","gasPrice","BIG_TEN","pow","BIG_NINE","dust","DEFAULT_TOKEN_DECIMAL","percentShortcuts","SetPositionCard","percentage","togglePosition","onBack","setValue","isTxPending","setIsTxPending","errorMessage","setErrorMessage","tokenBalance","useTokenBalance","useGetMinBetAmount","balanceDisplay","maxBalance","valueAsBn","percentageOfMaxBalance","percentageDisplay","showFieldWarning","minBetAmountBalance","eq","key","lt","getButtonProps","bnValue","lte","data","token","onMouseOver","keyboard","disable","mousewheel","detachEvents","onMouseOut","enable","attachEvents","onUserInput","input","isWarning","inputProps","balance","min","max","onValueChanged","newValue","step","valueLabel","percent","betMethod","decimalValue","getDecimalAmount","errorMsg","predictionsWithTokensAddress","getPredictionsWithTokenAddress","ApproveCard","cakeContract","useCake","handleGoBack","approveAmount","approve","OpenRoundCard","allowance","usePredictionAllowance","isSettingPosition","setState","isBufferPhase","positionDisplay","estimatedLockBlock","canEnterPosition","handleBack","prevState","handleSetPosition","newPosition","useRoundCountdown","intervalsToAdd","currentRoundBlockNum","useGetCurrentRoundBlockNumber","blocksToAdd","useBlockCountdown","SoonRoundCard","countdown","RoundCard","Token","lg","Title","Text","Price","Interval","Label","dir","PricePairLabel","display","TimerLabel","pr","StyledPrevNextNav","Icon","PrevNextNav","useGetSortedRounds","slidePrev","currentEpochIndex","findIndex","slideTo","slideNext","HistoryButton","SetCol","HelpButtonWrapper","TimerLabelWrapper","HistoryButtonWrapper","Menu","target","rel","useOnNextRound","previousEpoch","usePreviousValue","SwiperCore","use","Keyboard","Mousewheel","PageView","StyledSwiper","Positions","initialIndex","Math","floor","initialSlide","onSwiper","spaceBetween","slidesPerView","freeMode","freeModeSticky","centeredSlides","resizeObserver","ExpandChartButton","Button","text","SplitWrapper","ChartPane","HistoryPane","StyledDesktop","PositionPane","Gutter","textSubtle","Desktop","splitWrapperRef","chartRef","gutterRef","useIsChartPaneOpen","handleDrag","debounce","getBoundingClientRect","split","Split","dragInterval","snapOffset","onDrag","rowGutters","track","element","newChartPaneState","transition","gridTemplateRows","delay","ERROR","ButtonNav","TabNav","StyledMobileMenu","MobileMenu","isHistoryOpen","isChartOpen","getActiveIndex","index","MenuWrapper","ChartWrapper","Chart","StyledMobile","xl","View","isVisible","Mobile","view","HISTORY","CHART","POSITIONS","getView","GradientModalHeader","ModalHeader","bubblegum","RiskDisclaimer","acknowledgeRisk","setAcknowledgeRisk","acknowledgeBeta","setAcknowledgeBeta","maxWidth","maxHeight","overflowY","htmlFor","marginBottom","ChartDisclaimer","Predictions","isXl","useMatchBreakpoints","usePersistState","hasAcceptedRisk","setHasAcceptedRisk","hasAcceptedChart","setHasAcceptedChart","initialBlock","useInitialBlock","isDesktop","onPresentRiskDisclaimer","onPresentChartDisclaimer","onPresentRiskDisclaimerRef","onPresentChartDisclaimerRef","all","staticPredictionsData","latestRound","find","currentRoundStartBlock","futureRounds","halfInterval","i","push","roundData","fetchInitialData","PageLoader","BASE_BSC_SCAN_URL","getBscScanBlockCountdownUrl","useTotalSupply","slowRefresh","useRefresh","totalSupply","setTotalSupply","getCakeContract","supply","fetchTotalSupply","useBurnedBalance","tokenAddress","setBalance","web3","useWeb3","contract","getBep20Contract","balanceOf","res","fetchBalance","useGetBnbBalance","eth","getBalance","walletBalance","fastRefresh","setAllowance","fetchAllowance","useLotteryAllowance","getLotteryAddress","useIfoAllowance","tokenContract","spenderAddress","dependency","fetch","rawProgress","progress","primaryStep","secondsRemaining","setSecondsRemaining","getWeb3NoAccount","getBlockNumber","BSC_BLOCK_TIME","prevSecondsRemaining","startCountdown"],"mappings":"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","file":"static/js/10.76580473.chunk.js","sourcesContent":["import { request, gql } from 'graphql-request'\nimport { GRAPH_API_PREDICTION_WITH_TOKEN } from 'config/constants/endpoints'\nimport { Bet, BetPosition, Market, PredictionStatus, Round, RoundData } from 'state/types'\nimport makeBatchRequest from 'utils/makeBatchRequest'\nimport { getPredictionsWithTokenContract } from 'utils/contractHelpers'\nimport {\n  BetResponse,\n  getRoundBaseFields,\n  getBetBaseFields,\n  getUserBaseFields,\n  RoundResponse,\n  MarketResponse,\n} from './queries'\n\nexport enum Result {\n  WIN = 'win',\n  LOSE = 'lose',\n  CANCELED = 'canceled',\n  LIVE = 'live',\n}\n\nexport const numberOrNull = (value: string) => {\n  if (value === null) {\n    return null\n  }\n\n  const valueNum = Number(value)\n  return Number.isNaN(valueNum) ? null : valueNum\n}\n\nexport const makeFutureRoundResponse = (epoch: number, startBlock: number): RoundResponse => {\n  return {\n    id: epoch.toString(),\n    epoch: epoch.toString(),\n    startBlock: startBlock.toString(),\n    failed: null,\n    startAt: null,\n    lockAt: null,\n    lockBlock: null,\n    lockPrice: null,\n    endBlock: null,\n    closePrice: null,\n    totalBets: '0',\n    totalAmount: '0',\n    bearBets: '0',\n    bullBets: '0',\n    bearAmount: '0',\n    bullAmount: '0',\n    position: null,\n    bets: [],\n  }\n}\n\nexport const transformBetResponse = (betResponse: BetResponse): Bet => {\n  const bet = {\n    id: betResponse.id,\n    hash: betResponse.hash,\n    amount: betResponse.amount ? parseFloat(betResponse.amount) : 0,\n    position: betResponse.position === 'Bull' ? BetPosition.BULL : BetPosition.BEAR,\n    claimed: betResponse.claimed,\n    user: {\n      id: betResponse.user.id,\n      address: betResponse.user.address,\n      block: numberOrNull(betResponse.user.block),\n      totalBets: numberOrNull(betResponse.user.totalBets),\n      totalBNB: numberOrNull(betResponse.user.totalBNB),\n    },\n  } as Bet\n\n  if (betResponse.round) {\n    bet.round = transformRoundResponse(betResponse.round)\n  }\n\n  return bet\n}\n\nexport const transformRoundResponse = (roundResponse: RoundResponse): Round => {\n  const {\n    id,\n    epoch,\n    failed,\n    startBlock,\n    startAt,\n    lockAt,\n    lockBlock,\n    lockPrice,\n    endBlock,\n    closePrice,\n    totalBets,\n    totalAmount,\n    bullBets,\n    bearBets,\n    bearAmount,\n    bullAmount,\n    position,\n    bets = [],\n  } = roundResponse\n\n  const getRoundPosition = (positionResponse: string) => {\n    if (positionResponse === 'Bull') {\n      return BetPosition.BULL\n    }\n\n    if (positionResponse === 'Bear') {\n      return BetPosition.BEAR\n    }\n\n    return null\n  }\n\n  return {\n    id,\n    failed,\n    epoch: numberOrNull(epoch),\n    startBlock: numberOrNull(startBlock),\n    startAt: numberOrNull(startAt),\n    lockAt: numberOrNull(lockAt),\n    lockBlock: numberOrNull(lockBlock),\n    lockPrice: lockPrice ? parseFloat(lockPrice) : null,\n    endBlock: numberOrNull(endBlock),\n    closePrice: closePrice ? parseFloat(closePrice) : null,\n    totalBets: numberOrNull(totalBets),\n    totalAmount: totalAmount ? parseFloat(totalAmount) : 0,\n    bullBets: numberOrNull(bullBets),\n    bearBets: numberOrNull(bearBets),\n    bearAmount: numberOrNull(bearAmount),\n    bullAmount: numberOrNull(bullAmount),\n    position: getRoundPosition(position),\n    bets: bets.map(transformBetResponse),\n  }\n}\n\nexport const transformMarketResponse = (marketResponse: MarketResponse): Market => {\n  return {\n    id: marketResponse.id,\n    paused: marketResponse.paused,\n    epoch: Number(marketResponse.epoch.epoch),\n  }\n}\n\nexport const makeRoundData = (rounds: Round[]): RoundData => {\n  return rounds.reduce((accum, round) => {\n    return {\n      ...accum,\n      [round.id]: round,\n    }\n  }, {})\n}\n\nexport const getRoundResult = (bet: Bet, currentEpoch: number): Result => {\n  const { round } = bet\n  if (round.failed) {\n    return Result.CANCELED\n  }\n\n  if (round.epoch >= currentEpoch - 1) {\n    return Result.LIVE\n  }\n  const roundResultPosition = round.closePrice > round.lockPrice ? BetPosition.BULL : BetPosition.BEAR\n\n  return bet.position === roundResultPosition ? Result.WIN : Result.LOSE\n}\n\n/**\n * Given a bet object, check if it is eligible to be claimed or refunded\n */\nexport const getCanClaim = (bet: Bet) => {\n  return !bet.claimed && (bet.position === bet.round.position || bet.round.failed === true)\n}\n\n/**\n * Returns only bets where the user has won.\n * This is necessary because the API currently cannot distinguish between an uncliamed bet that has won or lost\n */\nexport const getUnclaimedWinningBets = (bets: Bet[]): Bet[] => {\n  return bets.filter(getCanClaim)\n}\n\n/**\n * Gets static data from the contract\n */\nexport const getStaticPredictionsData = async () => {\n  const { methods } = getPredictionsWithTokenContract()\n  const [currentEpoch, intervalBlocks, minBetAmount, isPaused, bufferBlocks] = await makeBatchRequest([\n    methods.currentEpoch().call,\n    methods.intervalBlocks().call,\n    methods.minBetAmount().call,\n    methods.paused().call,\n    methods.bufferBlocks().call,\n  ])\n  /* console.log(currentEpoch) */\n  return {\n    status: isPaused ? PredictionStatus.PAUSED : PredictionStatus.LIVE,\n    currentEpoch: Number(currentEpoch),\n    intervalBlocks: Number(intervalBlocks),\n    bufferBlocks: Number(bufferBlocks),\n    minBetAmount,\n  }\n}\n\nexport const getMarketData = async (): Promise<{\n  rounds: Round[]\n  market: Market\n}> => {\n  const response = (await request(\n    GRAPH_API_PREDICTION_WITH_TOKEN,\n    gql`\n      query getMarketData {\n        rounds(first: 5, orderBy: epoch, orderDirection: desc) {\n          ${getRoundBaseFields()}\n        }\n        market(id: 1) {\n          id\n          paused\n          epoch {\n            epoch\n          }\n        }\n      }\n    `,\n  )) as { rounds: RoundResponse[]; market: MarketResponse }\n\n  return {\n    rounds: response.rounds.map(transformRoundResponse),\n    market: transformMarketResponse(response.market),\n  }\n}\n\nexport const getRound = async (id: string) => {\n  const response = await request(\n    GRAPH_API_PREDICTION_WITH_TOKEN,\n    gql`\n      query getRound($id: ID!) {\n        round(id: $id) {\n          ${getRoundBaseFields()}\n          bets {\n           ${getBetBaseFields()}\n            user {\n             ${getUserBaseFields()}\n            }\n          }\n        }\n      }\n  `,\n    { id },\n  )\n  return response.round\n}\n\ntype BetHistoryWhereClause = Record<string, string | number | boolean | string[]>\n\nexport const getBetHistory = async (\n  where: BetHistoryWhereClause = {},\n  first = 1000,\n  skip = 0,\n): Promise<BetResponse[]> => {\n  const response = await request(\n    GRAPH_API_PREDICTION_WITH_TOKEN,\n    gql`\n      query getBetHistory($first: Int!, $skip: Int!, $where: Bet_filter) {\n        bets(first: $first, skip: $skip, where: $where) {\n          ${getBetBaseFields()}\n          round {\n            ${getRoundBaseFields()}\n          }\n          user {\n            ${getUserBaseFields()}\n          } \n        }\n      }\n    `,\n    { first, skip, where },\n  )\n  return response.bets\n}\n\nexport const getBet = async (betId: string): Promise<BetResponse> => {\n  const response = await request(\n    GRAPH_API_PREDICTION_WITH_TOKEN,\n    gql`\n      query getBet($id: ID!) {\n        bet(id: $id) {\n          ${getBetBaseFields()}\n          round {\n            ${getRoundBaseFields()}\n          }\n          user {\n            ${getUserBaseFields()}\n          } \n        }\n      }\n  `,\n    {\n      id: betId.toLowerCase(),\n    },\n  )\n  return response.bet\n}\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  ArrowForwardIcon,\n  Box,\n  Button,\n  Radio,\n  Flex,\n  Heading,\n  Text,\n  ButtonMenu,\n  ButtonMenuItem,\n} from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { HistoryFilter } from 'state/types'\nimport { setHistoryFilter, setHistoryPaneState, fetchHistory } from 'state/predictionsWithToken'\nimport { useGetHistoryFilter, useGetIsFetchingHistory } from 'state/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\nimport { getBubbleGumBackground } from '../../helpers'\n\nconst Filter = styled.label`\n  align-items: center;\n  cursor: pointer;\n  display: inline-flex;\n  margin-right: 16px;\n`\n\nconst StyledHeader = styled(Box)`\n  background: ${({ theme }) => getBubbleGumBackground(theme)};\n  flex: none;\n  padding: 16px;\n`\n\nconst ButtonMenuContainer = styled.div`\n  width: 100%;\n  & > div {\n    width: 100%;\n  }\n\n  & button {\n    width: 100%;\n  }\n`\n\nconst getClaimParam = (historyFilter: HistoryFilter) => {\n  switch (historyFilter) {\n    case HistoryFilter.COLLECTED:\n      return true\n    case HistoryFilter.UNCOLLECTED:\n      return false\n    case HistoryFilter.ALL:\n    default:\n      return undefined\n  }\n}\n\ninterface HeaderProps {\n  activeTab: HistoryTabs\n  setActiveTab: (value: HistoryTabs) => void\n}\n\nexport enum HistoryTabs {\n  ROUNDS,\n  PNL,\n}\n\nconst Header: React.FC<HeaderProps> = ({ activeTab, setActiveTab }) => {\n  const historyFilter = useGetHistoryFilter()\n  const isFetchingHistory = useGetIsFetchingHistory()\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const handleClick = () => {\n    dispatch(setHistoryPaneState(false))\n  }\n\n  const handleChange = (newFilter: HistoryFilter) => async () => {\n    if (newFilter !== historyFilter) {\n      await dispatch(fetchHistory({ account, claimed: getClaimParam(newFilter) }))\n      dispatch(setHistoryFilter(newFilter))\n    }\n  }\n\n  const switchTab = async (tabIndex: number) => {\n    setActiveTab(tabIndex)\n    await handleChange(HistoryFilter.ALL)()\n  }\n\n  return (\n    <StyledHeader>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n        <Heading as=\"h3\" size=\"md\">\n          {t('History')}\n        </Heading>\n        <Button onClick={handleClick} variant=\"text\" endIcon={<ArrowForwardIcon color=\"primary\" />} px=\"0\">\n          {t('Close')}\n        </Button>\n      </Flex>\n      <ButtonMenuContainer>\n        <ButtonMenu activeIndex={activeTab} scale=\"sm\" variant=\"subtle\" onItemClick={switchTab}>\n          <ButtonMenuItem>{t('Rounds')}</ButtonMenuItem>\n          <ButtonMenuItem>{t('PNL')}</ButtonMenuItem>\n        </ButtonMenu>\n      </ButtonMenuContainer>\n      {activeTab === HistoryTabs.ROUNDS && (\n        <>\n          <Text color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\n            {t('Filter')}\n          </Text>\n          <Flex alignItems=\"center\">\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.ALL}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.ALL)}\n              />\n              <Text ml=\"4px\">{t('All')}</Text>\n            </Filter>\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.COLLECTED}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.COLLECTED)}\n              />\n              <Text ml=\"4px\">{t('Collected')}</Text>\n            </Filter>\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.UNCOLLECTED}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.UNCOLLECTED)}\n              />\n              <Text ml=\"4px\">{t('Uncollected')}</Text>\n            </Filter>\n          </Flex>\n        </>\n      )}\n    </StyledHeader>\n  )\n}\n\nexport default Header\n","export interface UserResponse {\n  id: string\n  address: string\n  block: string\n  totalBets: string\n  totalBNB: string\n  bets?: BetResponse[]\n}\n\nexport interface BetResponse {\n  id: string\n  hash: string\n  amount: string\n  position: string\n  claimed: boolean\n  user?: UserResponse\n  round?: RoundResponse\n}\n\nexport interface HistoricalBetResponse {\n  id: string\n  hash: string\n  amount: string\n  position: string\n  claimed: boolean\n  user?: UserResponse\n  round: {\n    id: string\n    epoch: string\n  }\n}\n\nexport interface RoundResponse {\n  id: string\n  epoch: string\n  failed: boolean\n  startBlock: string\n  startAt: string\n  lockAt: string\n  lockBlock: string\n  lockPrice: string\n  endBlock: string\n  closePrice: string\n  totalBets: string\n  totalAmount: string\n  bearBets: string\n  bullBets: string\n  bearAmount: string\n  bullAmount: string\n  position: string\n  bets: BetResponse[]\n}\n\nexport interface MarketResponse {\n  id: string\n  paused: boolean\n  epoch: {\n    epoch: string\n  }\n}\n\n/**\n * Base fields are the all the top-level fields available in the api. Used in multiple queries\n */\nexport const getRoundBaseFields = () => `\n  id\n  epoch\n  failed\n  startAt\n  startBlock\n  lockAt\n  lockBlock\n  lockPrice\n  endAt\n  endBlock\n  closePrice\n  totalBets\n  totalAmount\n  bullBets\n  bullAmount\n  bearBets\n  bearAmount\n  position\n`\n\nexport const getBetBaseFields = () => `\n  id\n  hash  \n  amount\n  position\n  claimed\n`\n\nexport const getUserBaseFields = () => `\n  id\n  address\n  block\n  totalBets\n  totalBNB\n`\n","/* eslint-disable no-param-reassign */\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport maxBy from 'lodash/maxBy'\nimport merge from 'lodash/merge'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { Bet, HistoryFilter, Market, PredictionsState, PredictionStatus, Round } from 'state/types'\nimport {\n  makeFutureRoundResponse,\n  transformRoundResponse,\n  getBetHistory,\n  transformBetResponse,\n  getBet,\n  makeRoundData,\n} from './helpers'\n\nconst initialState: PredictionsState = {\n  status: PredictionStatus.INITIAL,\n  isLoading: false,\n  isHistoryPaneOpen: false,\n  isChartPaneOpen: false,\n  isFetchingHistory: false,\n  historyFilter: HistoryFilter.ALL,\n  currentEpoch: 0,\n  currentRoundStartBlockNumber: 0,\n  intervalBlocks: 100,\n  bufferBlocks: 2,\n  minBetAmount: '1000000000000000',\n  lastOraclePrice: BIG_ZERO.toJSON(),\n  rounds: {},\n  history: {},\n  bets: {},\n}\n\n// Thunks\nexport const fetchBet = createAsyncThunk<{ account: string; bet: Bet }, { account: string; id: string }>(\n  'predictions/fetchBet',\n  async ({ account, id }) => {\n    const response = await getBet(id)\n    const bet = transformBetResponse(response)\n    return { account, bet }\n  },\n)\n\nexport const fetchRoundBet = createAsyncThunk<\n  { account: string; roundId: string; bet: Bet },\n  { account: string; roundId: string }\n>('predictions/fetchRoundBet', async ({ account, roundId }) => {\n  const betResponses = await getBetHistory({\n    user: account.toLowerCase(),\n    round: roundId,\n  })\n\n  // This should always return 0 or 1 bet because a user can only place\n  // one bet per round\n  if (betResponses && betResponses.length === 1) {\n    const [betResponse] = betResponses\n    return { account, roundId, bet: transformBetResponse(betResponse) }\n  }\n\n  return { account, roundId, bet: null }\n})\n\n/**\n * Used to poll the user bets of the current round cards\n */\nexport const fetchCurrentBets = createAsyncThunk<\n  { account: string; bets: Bet[] },\n  { account: string; roundIds: string[] }\n>('predictions/fetchCurrentBets', async ({ account, roundIds }) => {\n  const betResponses = await getBetHistory({\n    user: account.toLowerCase(),\n    round_in: roundIds,\n  })\n\n  return { account, bets: betResponses.map(transformBetResponse) }\n})\n\nexport const fetchHistory = createAsyncThunk<{ account: string; bets: Bet[] }, { account: string; claimed?: boolean }>(\n  'predictions/fetchHistory',\n  async ({ account, claimed }) => {\n    const response = await getBetHistory({\n      user: account.toLowerCase(),\n      claimed,\n    })\n    const bets = response.map(transformBetResponse)\n\n    return { account, bets }\n  },\n)\n\nexport const predictionsSlice = createSlice({\n  name: 'predictions',\n  initialState,\n  reducers: {\n    setPredictionStatus: (state, action: PayloadAction<PredictionStatus>) => {\n      state.status = action.payload\n    },\n    setHistoryPaneState: (state, action: PayloadAction<boolean>) => {\n      state.isHistoryPaneOpen = action.payload\n      state.historyFilter = HistoryFilter.ALL\n    },\n    setChartPaneState: (state, action: PayloadAction<boolean>) => {\n      state.isChartPaneOpen = action.payload\n    },\n    setHistoryFilter: (state, action: PayloadAction<HistoryFilter>) => {\n      state.historyFilter = action.payload\n    },\n    initialize: (state, action: PayloadAction<PredictionsState>) => {\n      return {\n        ...state,\n        ...action.payload,\n      }\n    },\n    updateMarketData: (state, action: PayloadAction<{ rounds: Round[]; market: Market }>) => {\n      const { rounds, market } = action.payload\n      const newRoundData = makeRoundData(rounds)\n      const incomingCurrentRound = maxBy(rounds, 'epoch')\n\n      if (state.currentEpoch !== incomingCurrentRound.epoch) {\n        // Add new round\n        const newestRound = maxBy(rounds, 'epoch') as Round\n        const futureRound = transformRoundResponse(\n          makeFutureRoundResponse(newestRound.epoch + 2, newestRound.startBlock + state.intervalBlocks),\n        )\n\n        newRoundData[futureRound.id] = futureRound\n      }\n\n      state.currentEpoch = incomingCurrentRound.epoch\n      /* console.log(state.currentEpoch) */\n      state.currentRoundStartBlockNumber = incomingCurrentRound.startBlock\n      state.status = market.paused ? PredictionStatus.PAUSED : PredictionStatus.LIVE\n      state.rounds = { ...state.rounds, ...newRoundData }\n    },\n    setCurrentEpoch: (state, action: PayloadAction<number>) => {\n      state.currentEpoch = action.payload\n    },\n    markBetAsCollected: (state, action: PayloadAction<{ account: string; roundId: string }>) => {\n      const { account, roundId } = action.payload\n      const accountBets = state.bets[account]\n\n      if (accountBets && accountBets[roundId]) {\n        accountBets[roundId].claimed = true\n      }\n    },\n    markPositionAsEntered: (state, action: PayloadAction<{ account: string; roundId: string; bet: Bet }>) => {\n      const { account, roundId, bet } = action.payload\n\n      state.bets = {\n        ...state.bets,\n        [account]: {\n          ...state.bets[account],\n          [roundId]: bet,\n        },\n      }\n    },\n    setLastOraclePrice: (state, action: PayloadAction<string>) => {\n      state.lastOraclePrice = action.payload\n    },\n  },\n  extraReducers: (builder) => {\n    // Get unclaimed bets\n    builder.addCase(fetchCurrentBets.fulfilled, (state, action) => {\n      const { account, bets } = action.payload\n      const betData = bets.reduce((accum, bet) => {\n        return {\n          ...accum,\n          [bet.round.id]: bet,\n        }\n      }, {})\n\n      state.bets = merge({}, state.bets, {\n        [account]: betData,\n      })\n    })\n\n    // Get round bet\n    builder.addCase(fetchRoundBet.fulfilled, (state, action) => {\n      const { account, roundId, bet } = action.payload\n\n      if (bet) {\n        state.bets = {\n          ...state.bets,\n          [account]: {\n            ...state.bets[account],\n            [roundId]: bet,\n          },\n        }\n      }\n    })\n\n    // Update Bet\n    builder.addCase(fetchBet.fulfilled, (state, action) => {\n      const { account, bet } = action.payload\n      state.history[account] = [...state.history[account].filter((currentBet) => currentBet.id !== bet.id), bet]\n    })\n\n    // Show History\n    builder.addCase(fetchHistory.pending, (state) => {\n      state.isFetchingHistory = true\n    })\n    builder.addCase(fetchHistory.rejected, (state) => {\n      state.isFetchingHistory = false\n      state.isHistoryPaneOpen = true\n    })\n    builder.addCase(fetchHistory.fulfilled, (state, action) => {\n      const { account, bets } = action.payload\n\n      state.isFetchingHistory = false\n      state.isHistoryPaneOpen = true\n      state.history[account] = bets\n\n      // Save any fetched bets in the \"bets\" namespace\n      const betData = bets.reduce((accum, bet) => {\n        return {\n          ...accum,\n          [bet.round.id]: bet,\n        }\n      }, {})\n\n      state.bets = merge({}, state.bets, {\n        [account]: betData,\n      })\n    })\n  },\n})\n\n// Actions\nexport const {\n  initialize,\n  setChartPaneState,\n  setCurrentEpoch,\n  setHistoryFilter,\n  setHistoryPaneState,\n  updateMarketData,\n  markBetAsCollected,\n  setPredictionStatus,\n  markPositionAsEntered,\n  setLastOraclePrice,\n} = predictionsSlice.actions\n\nexport default predictionsSlice.reducer\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useChainlinkOracleContract } from 'hooks/useContract'\nimport useLastUpdated from 'hooks/useLastUpdated'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport { BIG_ZERO } from 'utils/bigNumber'\n\nconst useGetLatestOraclePrice = () => {\n  const [price, setPrice] = useState(BIG_ZERO)\n  const { lastUpdated, setLastUpdated: refresh } = useLastUpdated()\n  const chainlinkOracleContract = useChainlinkOracleContract()\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      const response = await chainlinkOracleContract.methods.latestAnswer().call()\n      setPrice(getBalanceAmount(new BigNumber(response), 8))\n    }\n\n    fetchPrice()\n  }, [chainlinkOracleContract, lastUpdated, setPrice])\n\n  return { price, lastUpdated, refresh }\n}\n\nexport default useGetLatestOraclePrice\n","import { useEffect } from 'react'\nimport { useAppDispatch } from 'state'\nimport { setLastOraclePrice } from 'state/predictionsWithToken'\nimport useGetLatestOraclePrice from './useGetLatestOraclePrice'\n\nconst usePollOraclePrice = (seconds = 30) => {\n  const { price, refresh } = useGetLatestOraclePrice()\n  const dispatch = useAppDispatch()\n\n  // Poll for the oracle price\n  useEffect(() => {\n    refresh()\n    const timer = setInterval(() => {\n      refresh()\n    }, seconds * 1000)\n\n    return () => {\n      clearInterval(timer)\n    }\n  }, [seconds, refresh])\n\n  // If the price changed update global state\n  useEffect(() => {\n    dispatch(setLastOraclePrice(price.toJSON()))\n  }, [price, dispatch])\n}\n\nexport default usePollOraclePrice\n","import { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\nimport { useAppDispatch } from 'state'\nimport { updateMarketData } from 'state/predictionsWithToken'\nimport { getMarketData } from 'state/predictionsWithToken/helpers'\n\nconst POLL_TIME_IN_SECONDS = 10\n\nconst usePollRoundData = () => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  useEffect(() => {\n    const timer = setInterval(async () => {\n      const marketData = await getMarketData()\n\n      dispatch(updateMarketData(marketData))\n    }, POLL_TIME_IN_SECONDS * 1000)\n\n    return () => {\n      clearInterval(timer)\n    }\n  }, [account, dispatch])\n}\n\nexport default usePollRoundData\n","import styled from 'styled-components'\n\nconst Container = styled.div`\n  background: ${({ theme }) => theme.colors.gradients.violetAlt};\n  height: calc(100vh - 64px);\n  min-height: calc(100vh - 64px);\n  overflow: hidden;\n  position: relative;\n`\n\nexport default Container\n","import React, { useEffect, useRef, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport styled, { css, keyframes } from 'styled-components'\nimport { Button, CloseIcon, IconButton, TrophyGoldIcon } from '@pancakeswap/uikit'\nimport { CSSTransition } from 'react-transition-group'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBetHistory } from 'state/predictionsWithToken/helpers'\nimport { useGetPredictionsStatus, useIsHistoryPaneOpen } from 'state/hooks'\nimport { useAppDispatch } from 'state'\nimport { setHistoryPaneState } from 'state/predictionsWithToken'\n\n/**\n * @see https://github.com/animate-css/animate.css/tree/main/source\n */\nconst bounceInKeyframe = keyframes`\n  from,\n  60%,\n  75%,\n  90%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  from {\n    opacity: 0;\n    transform: translate3d(0, 3000px, 0) scaleY(5);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0) scaleY(0.9);\n  }\n\n  75% {\n    transform: translate3d(0, 10px, 0) scaleY(0.95);\n  }\n\n  90% {\n    transform: translate3d(0, -5px, 0) scaleY(0.985);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n`\n\nconst bounceOutKeyframe = keyframes`\n  20% {\n    transform: translate3d(0, 10px, 0) scaleY(0.985);\n  }\n\n  40%,\n  45% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0) scaleY(0.9);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0) scaleY(3);\n  }\n`\n\nconst bounceInAnimation = css`\n  animation: ${bounceInKeyframe} 1s;\n`\n\nconst bounceOutAnimation = css`\n  animation: ${bounceOutKeyframe} 1s;\n`\n\nconst Wrapper = styled.div`\n  align-items: center;\n  bottom: 72px;\n  color: #ffffff;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  padding-left: 16px;\n  padding-right: 16px;\n  position: absolute;\n  width: 100%;\n  z-index: 50;\n\n  &.popup-enter-active {\n    ${bounceInAnimation}\n  }\n\n  &.popup-enter-done {\n    bottom: 72px;\n  }\n\n  &.popup-exit-done {\n    bottom: -2000px;\n  }\n\n  &.popup-exit-active {\n    ${bounceOutAnimation}\n  }\n\n  ${({ theme }) => theme.mediaQueries.md} {\n    bottom: 16px;\n    justify-content: flex-end;\n\n    &.popup-enter-done {\n      bottom: 16px;\n    }\n  }\n`\n\nconst Popup = styled.div`\n  align-items: center;\n  background-color: ${({ theme }) => theme.colors.secondary};\n  border-radius: 32px;\n  color: #ffffff;\n  display: flex;\n  max-width: 320px;\n  padding: 16px 8px;\n`\n\nconst CollectWinningsPopup = () => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { t } = useTranslation()\n  const ref = useRef(null)\n  const timer = useRef(null)\n  const { account } = useWeb3React()\n  const predictionStatus = useGetPredictionsStatus()\n  const isHistoryPaneOpen = useIsHistoryPaneOpen()\n  const dispatch = useAppDispatch()\n\n  const handleOpenHistory = () => {\n    dispatch(setHistoryPaneState(true))\n  }\n\n  const handleClick = () => {\n    setIsOpen(false)\n    clearInterval(timer.current)\n  }\n\n  // Check user's history for unclaimed winners\n  useEffect(() => {\n    let isCancelled = false\n    if (account) {\n      timer.current = setInterval(async () => {\n        const bets = await getBetHistory({ user: account.toLowerCase(), claimed: false })\n\n        if (!isCancelled) {\n          // Filter out bets that were not winners\n          const winnerBets = bets.filter((bet) => {\n            return bet.position === bet.round.position\n          })\n\n          if (!isHistoryPaneOpen) {\n            setIsOpen(winnerBets.length > 0)\n          }\n        }\n      }, 30000)\n    }\n\n    return () => {\n      clearInterval(timer.current)\n      isCancelled = true\n    }\n  }, [account, timer, predictionStatus, setIsOpen, isHistoryPaneOpen])\n\n  // Any time the history pane is open make sure the popup closes\n  useEffect(() => {\n    if (isHistoryPaneOpen) {\n      setIsOpen(false)\n    }\n  }, [isHistoryPaneOpen, setIsOpen])\n\n  return (\n    <CSSTransition in={isOpen} unmountOnExit nodeRef={ref} timeout={1000} classNames=\"popup\">\n      <Wrapper ref={ref}>\n        <Popup>\n          <TrophyGoldIcon width=\"64px\" style={{ flex: 'none' }} mr=\"8px\" />\n          <Button style={{ flex: 1 }} onClick={handleOpenHistory}>\n            {t('Collect Winnings')}\n          </Button>\n          <IconButton variant=\"text\" onClick={handleClick}>\n            <CloseIcon color=\"primary\" width=\"24px\" />\n          </IconButton>\n        </Popup>\n      </Wrapper>\n    </CSSTransition>\n  )\n}\n\nexport default CollectWinningsPopup\n","import React, { createContext, Dispatch, useState } from 'react'\nimport SwiperCore from 'swiper'\n\ninterface Context {\n  swiper: SwiperCore\n  setSwiper: Dispatch<React.SetStateAction<SwiperCore>>\n  destroySwiper: () => void\n}\n\nexport const SwiperContext = createContext<Context>(undefined)\n\nconst SwiperProvider = ({ children }) => {\n  const [swiper, setSwiper] = useState<SwiperCore>(null)\n\n  const destroySwiper = () => {\n    if (swiper) {\n      swiper.destroy()\n      setSwiper(null)\n    }\n  }\n\n  return <SwiperContext.Provider value={{ swiper, setSwiper, destroySwiper }}>{children}</SwiperContext.Provider>\n}\n\nexport default SwiperProvider\n","import React, { useEffect } from 'react'\nimport { Box } from '@pancakeswap/uikit'\nimport { DefaultTheme, useTheme } from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\n\n/**\n * When the script tag is injected the TradingView object is not immediately\n * available on the window. So we listen for when it gets set\n */\nconst tradingViewListener = async () =>\n  new Promise<void>((resolve) =>\n    Object.defineProperty(window, 'TradingView', {\n      configurable: true,\n      set(value) {\n        this.tv = value\n        resolve(value)\n      },\n    }),\n  )\n\nconst initializeTradingView = (TradingViewObj: any, theme: DefaultTheme, localeCode: string) => {\n  /* eslint-disable new-cap */\n  /* eslint-disable no-new */\n  // @ts-ignore\n  new TradingViewObj.widget({\n    autosize: true,\n    height: '100%',\n    symbol: 'BINANCE:BNBUSDT',\n    interval: '5',\n    timezone: 'Etc/UTC',\n    theme: theme.isDark ? 'dark' : 'light',\n    style: '1',\n    locale: localeCode,\n    toolbar_bg: '#f1f3f6',\n    enable_publishing: false,\n    allow_symbol_change: true,\n    container_id: 'tradingview_b239c',\n  })\n}\n\nconst TradingView = () => {\n  const { currentLanguage } = useTranslation()\n  const theme = useTheme()\n\n  useEffect(() => {\n    // @ts-ignore\n    if (window.TradingView) {\n      // @ts-ignore\n      initializeTradingView(window.TradingView, theme, currentLanguage.code)\n    } else {\n      tradingViewListener().then((tv) => {\n        initializeTradingView(tv, theme, currentLanguage.code)\n      })\n    }\n  }, [theme, currentLanguage])\n\n  return (\n    <Box overflow=\"hidden\" className=\"tradingview_container\">\n      <div id=\"tradingview_b239c\" />\n    </Box>\n  )\n}\n\nexport default TradingView\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Card, CardBody, Heading } from '@pancakeswap/uikit'\n\ninterface NotificationProps {\n  title: string\n}\n\n// const BunnyDecoration = styled.div`\n//   position: absolute;\n//   top: -130px; // line up bunny at the top of the modal\n//   left: 0px;\n//   text-align: center;\n//   width: 100%;\n// `\n\nconst Wrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  height: 100%;\n  justify-content: center;\n`\n\nconst CardWrapper = styled.div`\n  position: relative;\n  width: 320px;\n`\n\nconst BunnyDecoration = styled.div`\n  position: absolute;\n  top: -130px;\n  left: 0px;\n  text-align: center;\n  width: 100%;\n  z-index: 5;\n`\n\nconst Notification: React.FC<NotificationProps> = ({ title, children }) => {\n  return (\n    <Wrapper>\n      <CardWrapper>\n        <BunnyDecoration>\n          <img src=\"/images/decorations/hiccup-bunny.png\" alt=\"bunny decoration\" height=\"121px\" width=\"130px\" />\n        </BunnyDecoration>\n        <Card>\n          <CardBody>\n            <Heading mb=\"24px\">{title}</Heading>\n            {children}\n          </CardBody>\n        </Card>\n      </CardWrapper>\n    </Wrapper>\n  )\n}\n\nexport default Notification\n","import React from 'react'\nimport { Button, Text } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useAppDispatch } from 'state'\nimport { setHistoryPaneState } from 'state/predictionsWithToken'\nimport Notification from './Notification'\n\nconst ErrorNotification = () => {\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n\n  const handleOpenHistory = () => {\n    dispatch(setHistoryPaneState(true))\n  }\n  return (\n    <Notification title={t('Error')}>\n      <Text as=\"p\" mb=\"24px\">\n        {t('This page can’t be displayed right now due to an error. Please check back soon.')}\n      </Text>\n      <Button variant=\"primary\" width=\"100%\" onClick={handleOpenHistory}>\n        {t('Show History')}\n      </Button>\n    </Notification>\n  )\n}\n\nexport default ErrorNotification\n","import React from 'react'\nimport { Box, Button, Text } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useAppDispatch } from 'state'\nimport { setHistoryPaneState } from 'state/predictionsWithToken'\nimport Notification from './Notification'\n\nconst PauseNotification = () => {\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n\n  const handleOpenHistory = () => {\n    dispatch(setHistoryPaneState(true))\n  }\n\n  return (\n    <Notification title={t('Markets Paused')}>\n      <Box mb=\"24px\">\n        <Text as=\"p\">{t('Prediction markets have been paused due to an error.')}</Text>\n        <Text as=\"p\">{t('All open positions have been canceled.')}</Text>\n        <Text as=\"p\">\n          {t('You can reclaim any funds entered into existing positions via the History tab on this page.')}\n        </Text>\n      </Box>\n      <Button variant=\"primary\" width=\"100%\" onClick={handleOpenHistory}>\n        {t('Show History')}\n      </Button>\n    </Notification>\n  )\n}\n\nexport default PauseNotification\n","import BigNumber from 'bignumber.js'\nimport { Bet, BetPosition } from 'state/types'\nimport { DefaultTheme } from 'styled-components'\nimport { formatNumber, getBalanceAmount, getTokenBalanceAmount } from 'utils/formatBalance'\nimport getTimePeriods from 'utils/getTimePeriods'\n\nexport const getBnbAmount = (bnbBn: BigNumber) => {\n  return getBalanceAmount(bnbBn, 18)\n}\nexport const getTokenAmount = (tokenAmt: BigNumber) => {\n  return getTokenBalanceAmount(tokenAmt, 9)\n}\n\nexport const formatUsd = (usd: number) => {\n  return `$${formatNumber(usd || 0, 3, 3)}`\n}\n\nexport const formatBnb = (bnb: number) => {\n  return bnb ? bnb.toLocaleString(undefined, { minimumFractionDigits: 3, maximumFractionDigits: 3 }) : '0'\n}\n\nexport const formatBnbFromBigNumber = (bnbBn: BigNumber) => {\n  return formatBnb(getBnbAmount(bnbBn).toNumber())\n}\n\nexport const padTime = (num: number) => num.toString().padStart(2, '0')\n\nexport const formatRoundTime = (secondsBetweenBlocks: number) => {\n  const { hours, minutes, seconds } = getTimePeriods(secondsBetweenBlocks)\n  const minutesSeconds = `${padTime(minutes)}:${padTime(seconds)}`\n\n  if (hours > 0) {\n    return `${padTime(hours)}:${minutesSeconds}`\n  }\n\n  return minutesSeconds\n}\n\nexport const getMultiplier = (total: number, amount: number) => {\n  if (total === 0 || amount === 0) {\n    return 0\n  }\n\n  return total / amount\n}\n\n/**\n * Calculates the total payout given a bet\n */\nexport const getPayout = (bet: Bet) => {\n  if (!bet || !bet.round) {\n    return 0\n  }\n\n  const { bullAmount, bearAmount, totalAmount } = bet.round\n  const multiplier = getMultiplier(totalAmount, bet.position === BetPosition.BULL ? bullAmount : bearAmount)\n  return bet.amount * multiplier\n}\n\n// TODO: Move this to the UI Kit\nexport const getBubbleGumBackground = (theme: DefaultTheme) => {\n  if (theme.isDark) {\n    return 'linear-gradient(139.73deg, #142339 0%, #24243D 47.4%, #37273F 100%)'\n  }\n\n  return 'linear-gradient(139.73deg, #E6FDFF 0%, #EFF4F5 46.87%, #F3EFFF 100%)'\n}\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport {\n  ModalContainer,\n  ModalBody,\n  ModalTitle,\n  ModalHeader,\n  InjectedModalProps,\n  Button,\n  AutoRenewIcon,\n  TrophyGoldIcon,\n  Text,\n  Flex,\n  Heading,\n  Box,\n  LinkExternal,\n  ModalCloseButton,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { getBscScanTransactionUrl } from 'utils/bscscan'\nimport { useAppDispatch } from 'state'\nimport { usePriceBnbBusd } from 'state/hooks'\nimport { markBetAsCollected } from 'state/predictionsWithToken'\nimport { useTranslation } from 'contexts/Localization'\nimport useToast from 'hooks/useToast'\nimport { usePredictionsWithTokenContract } from 'hooks/useContract'\nimport { formatBnb } from '../helpers'\n\ninterface CollectRoundWinningsModalProps extends InjectedModalProps {\n  payout: number\n  roundId: string\n  epoch: number\n  onSuccess?: () => Promise<void>\n}\n\nconst Modal = styled(ModalContainer)`\n  overflow: visible;\n`\n\nconst BunnyDecoration = styled.div`\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n`\n\nconst CollectRoundWinningsModal: React.FC<CollectRoundWinningsModalProps> = ({\n  payout,\n  roundId,\n  epoch,\n  onDismiss,\n  onSuccess,\n}) => {\n  const [isPendingTx, setIsPendingTx] = useState(false)\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const { toastSuccess, toastError } = useToast()\n  const predictionsContract = usePredictionsWithTokenContract()\n  const bnbBusdPrice = usePriceBnbBusd()\n  const dispatch = useAppDispatch()\n\n  const handleClick = () => {\n    predictionsContract.methods\n      .claim(epoch)\n      .send({ from: account })\n      .once('sending', () => {\n        setIsPendingTx(true)\n      })\n      .once('receipt', async (result) => {\n        if (onSuccess) {\n          await onSuccess()\n        }\n\n        dispatch(markBetAsCollected({ account, roundId }))\n        onDismiss()\n        setIsPendingTx(false)\n        toastSuccess(\n          t('Winnings collected!'),\n          <Box>\n            <Text as=\"p\" mb=\"8px\">\n              {t('Your prizes have been sent to your wallet')}\n            </Text>\n            {result.transactionHash && (\n              <LinkExternal href={getBscScanTransactionUrl(result.transactionHash)}>\n                {t('View on BscScan')}\n              </LinkExternal>\n            )}\n          </Box>,\n        )\n      })\n      .once('error', (error) => {\n        setIsPendingTx(false)\n        toastError(t('Error'), error?.message)\n        console.error(error)\n      })\n  }\n\n  return (\n    <Modal minWidth=\"288px\" position=\"relative\" mt=\"124px\">\n      <BunnyDecoration>\n        <img src=\"/images/decorations/prize-bunny.png\" alt=\"bunny decoration\" height=\"124px\" width=\"168px\" />\n      </BunnyDecoration>\n      <ModalHeader>\n        <ModalTitle>\n          <Heading>{t('Collect Winnings')}</Heading>\n        </ModalTitle>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </ModalHeader>\n      <ModalBody p=\"24px\">\n        <TrophyGoldIcon width=\"96px\" mx=\"auto\" mb=\"24px\" />\n        <Flex alignItems=\"start\" justifyContent=\"space-between\" mb=\"24px\">\n          <Text>{t('Collecting')}</Text>\n          <Box style={{ textAlign: 'right' }}>\n            <Text>{`${formatBnb(payout)} BNB`}</Text>\n            <Text fontSize=\"12px\" color=\"textSubtle\">\n              {`~$${formatBnb(bnbBusdPrice.times(payout).toNumber())}`}\n            </Text>\n          </Box>\n        </Flex>\n        <Button\n          width=\"100%\"\n          mb=\"8px\"\n          onClick={handleClick}\n          isLoading={isPendingTx}\n          endIcon={isPendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        >\n          {t('Confirm')}\n        </Button>\n      </ModalBody>\n    </Modal>\n  )\n}\n\nexport default CollectRoundWinningsModal\n","import React from 'react'\nimport { Button, ButtonProps, useModal } from '@pancakeswap/uikit'\nimport CollectRoundWinningsModal from './CollectRoundWinningsModal'\n\ninterface CollectWinningsButtonProps extends ButtonProps {\n  payout: number\n  roundId: string\n  epoch: number\n  hasClaimed: boolean\n  onSuccess?: () => Promise<void>\n}\n\nconst CollectWinningsButton: React.FC<CollectWinningsButtonProps> = ({\n  payout,\n  roundId,\n  epoch,\n  hasClaimed,\n  onSuccess,\n  children,\n  ...props\n}) => {\n  const [onPresentCollectWinningsModal] = useModal(\n    <CollectRoundWinningsModal payout={payout} roundId={roundId} epoch={epoch} onSuccess={onSuccess} />,\n    false,\n  )\n\n  return (\n    <Button onClick={onPresentCollectWinningsModal} disabled={hasClaimed} {...props}>\n      {children}\n    </Button>\n  )\n}\n\nexport default CollectWinningsButton\n","import React, { ReactNode, useState } from 'react'\nimport { AutoRenewIcon, Button, ButtonProps } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useTranslation } from 'contexts/Localization'\nimport { usePredictionsWithTokenContract } from 'hooks/useContract'\nimport useToast from 'hooks/useToast'\n\ninterface ReclaimPositionButtonProps extends ButtonProps {\n  epoch: number\n  onSuccess?: () => Promise<void>\n  children?: ReactNode\n}\n\nconst ReclaimPositionButton: React.FC<ReclaimPositionButtonProps> = ({ epoch, onSuccess, children, ...props }) => {\n  const [isPendingTx, setIsPendingTx] = useState(false)\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const predictionsContract = usePredictionsWithTokenContract()\n  const { toastSuccess, toastError } = useToast()\n\n  const handleReclaim = () => {\n    predictionsContract.methods\n      .claim(epoch)\n      .send({ from: account })\n      .once('sending', () => {\n        setIsPendingTx(true)\n      })\n      .once('receipt', async () => {\n        if (onSuccess) {\n          await onSuccess()\n        }\n        setIsPendingTx(false)\n        toastSuccess(t('Position reclaimed!'))\n      })\n      .once('error', (error) => {\n        setIsPendingTx(false)\n        toastError(t('Error'), error?.message)\n        console.error(error)\n      })\n  }\n\n  return (\n    <Button\n      onClick={handleReclaim}\n      isLoading={isPendingTx}\n      endIcon={isPendingTx ? <AutoRenewIcon spin color=\"white\" /> : null}\n      {...props}\n    >\n      {children || t('Reclaim Position')}\n    </Button>\n  )\n}\n\nexport default ReclaimPositionButton\n","import React, { ReactNode } from 'react'\nimport styled from 'styled-components'\nimport { ArrowUpIcon, ArrowDownIcon, Flex, FlexProps, Text } from '@pancakeswap/uikit'\nimport { BetPosition } from 'state/types'\n\ninterface TagProps extends FlexProps {\n  bg?: string\n  startIcon?: ReactNode\n}\n\nconst StyledTag = styled(Flex)<{ bg: TagProps['bg'] }>`\n  background-color: ${({ bg, theme }) => theme.colors[bg]};\n  display: inline-flex;\n`\n\nexport const Tag: React.FC<TagProps> = ({ bg = 'success', startIcon, children, onClick, ...props }) => {\n  const icon = startIcon || <ArrowUpIcon color=\"white\" />\n\n  return (\n    <StyledTag\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      borderRadius=\"4px\"\n      bg={bg}\n      py=\"4px\"\n      px=\"8px\"\n      onClick={onClick}\n      style={{ cursor: onClick ? 'pointer' : 'normal' }}\n      {...props}\n    >\n      {icon}\n      <Text textTransform=\"uppercase\" color=\"white\" ml=\"4px\">\n        {children}\n      </Text>\n    </StyledTag>\n  )\n}\n\ninterface PositionTagProps extends FlexProps {\n  betPosition: BetPosition\n}\n\nconst PositionTag: React.FC<PositionTagProps> = ({ betPosition, children, ...props }) => {\n  const isUpPosition = betPosition === BetPosition.BULL\n  const icon = isUpPosition ? <ArrowUpIcon color=\"white\" /> : <ArrowDownIcon color=\"white\" />\n\n  return (\n    <Tag bg={isUpPosition ? 'success' : 'failure'} startIcon={icon} {...props}>\n      {children}\n    </Tag>\n  )\n}\n\nexport default PositionTag\n","import React from 'react'\nimport styled, { DefaultTheme } from 'styled-components'\nimport { Box, Flex, FlexProps, Text } from '@pancakeswap/uikit'\nimport { formatToken, formatUsd } from 'views/Predictions/helpers'\nimport { useTranslation } from 'contexts/Localization'\nimport { BetPosition, Round } from 'state/types'\n\n// PrizePoolRow\ninterface PrizePoolRowProps extends FlexProps {\n  totalAmount: Round['totalAmount']\n}\n\nconst getTokenPrizePoolAmount = (totalAmount: PrizePoolRowProps['totalAmount']) => {\n  if (!totalAmount) {\n    return '0'\n  }\n\n  return formatToken(totalAmount)\n}\n\nconst Row = ({ children, ...props }) => {\n  return (\n    <Flex alignItems=\"center\" justifyContent=\"space-between\" {...props}>\n      {children}\n    </Flex>\n  )\n}\n\nexport const PrizePoolRow: React.FC<PrizePoolRowProps> = ({ totalAmount, ...props }) => {\n  const { t } = useTranslation()\n\n  return (\n    <Row {...props}>\n      <Text bold>{t('Prize Pool')}:</Text>\n      <Text bold>{`${getTokenPrizePoolAmount(totalAmount)} ICEBRK`}</Text>\n    </Row>\n  )\n}\n\n// Payout Row\ninterface PayoutRowProps extends FlexProps {\n  positionLabel: string\n  multiplier: number\n  amount: number\n}\n\nexport const PayoutRow: React.FC<PayoutRowProps> = ({ positionLabel, multiplier, amount, ...props }) => {\n  const { t } = useTranslation()\n  const formattedMultiplier = `${multiplier.toLocaleString(undefined, { maximumFractionDigits: 2 })}x`\n\n  return (\n    <Row height=\"18px\" {...props}>\n      <Text fontSize=\"12px\" textTransform=\"uppercase\">\n        {positionLabel}:\n      </Text>\n      <Flex alignItems=\"center\">\n        <Text fontSize=\"12px\" lineHeight=\"18px\" bold>\n          {t('%multiplier% Payout', { multiplier: formattedMultiplier })}\n        </Text>\n        <Text mx=\"4px\">|</Text>\n        <Text fontSize=\"12px\" lineHeight=\"18px\">{`${formatToken(amount)} ICEBRK`}</Text>\n      </Flex>\n    </Row>\n  )\n}\n\n// LockPriceRow\ninterface LockPriceRowProps extends FlexProps {\n  lockPrice: Round['lockPrice']\n}\n\nexport const LockPriceRow: React.FC<LockPriceRowProps> = ({ lockPrice, ...props }) => {\n  const { t } = useTranslation()\n\n  return (\n    <Row {...props}>\n      <Text fontSize=\"14px\">{t('Locked Price')}:</Text>\n      <Text fontSize=\"14px\">{formatUsd(lockPrice)}</Text>\n    </Row>\n  )\n}\n\n// RoundResultBox\ninterface RoundResultBoxProps {\n  betPosition?: BetPosition\n  isNext?: boolean\n  isLive?: boolean\n  hasEntered?: boolean\n}\n\nconst getBackgroundColor = ({\n  theme,\n  betPosition,\n  isNext,\n  isLive,\n  hasEntered,\n}: RoundResultBoxProps & { theme: DefaultTheme }) => {\n  if (isNext) {\n    return 'linear-gradient(180deg, #53DEE9 0%, #7645D9 100%)'\n  }\n\n  if (hasEntered || isLive) {\n    return theme.colors.secondary\n  }\n\n  if (betPosition === BetPosition.BULL) {\n    return theme.colors.success\n  }\n\n  if (betPosition === BetPosition.BEAR) {\n    return theme.colors.failure\n  }\n\n  return theme.colors.cardBorder\n}\n\nconst Background = styled(Box)<RoundResultBoxProps>`\n  background: ${getBackgroundColor};\n  border-radius: 16px;\n  padding: 2px;\n`\n\nconst StyledRoundResultBox = styled.div`\n  background: ${({ theme }) => theme.card.background};\n  border-radius: 14px;\n  padding: 16px;\n`\n\nexport const RoundResultBox: React.FC<RoundResultBoxProps> = ({\n  isNext = false,\n  hasEntered = false,\n  isLive = false,\n  children,\n  ...props\n}) => {\n  return (\n    <Background isNext={isNext} hasEntered={hasEntered} isLive={isLive} {...props}>\n      <StyledRoundResultBox>{children}</StyledRoundResultBox>\n    </Background>\n  )\n}\n","import React from 'react'\nimport { BoxProps, Flex, Text } from '@pancakeswap/uikit'\nimport { BetPosition, Round } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatUsd } from '../../helpers'\nimport PositionTag from '../PositionTag'\nimport { LockPriceRow, PrizePoolRow, RoundResultBox } from './styles'\n\ninterface RoundResultProps extends BoxProps {\n  round: Round\n}\n\nconst RoundResult: React.FC<RoundResultProps> = ({ round, children, ...props }) => {\n  const { lockPrice, closePrice, totalAmount } = round\n  const betPosition = closePrice > lockPrice ? BetPosition.BULL : BetPosition.BEAR\n  const isPositionUp = betPosition === BetPosition.BULL\n  const { t } = useTranslation()\n  const priceDifference = closePrice - lockPrice\n\n  return (\n    <RoundResultBox betPosition={betPosition} {...props}>\n      <Text color=\"textSubtle\" fontSize=\"12px\" bold textTransform=\"uppercase\" mb=\"8px\">\n        {t('Closed Price')}\n      </Text>\n      {round.failed ? (\n        <Text bold textTransform=\"uppercase\" color=\"textDisabled\" mb=\"16px\" fontSize=\"24px\">\n          {t('Canceled')}\n        </Text>\n      ) : (\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n          <Text color={isPositionUp ? 'success' : 'failure'} bold fontSize=\"24px\">\n            {formatUsd(closePrice)}\n          </Text>\n          <PositionTag betPosition={betPosition}>{formatUsd(priceDifference)}</PositionTag>\n        </Flex>\n      )}\n      {lockPrice && <LockPriceRow lockPrice={lockPrice} />}\n      <PrizePoolRow totalAmount={totalAmount} />\n      {children}\n    </RoundResultBox>\n  )\n}\n\nexport default RoundResult\n","import { useEffect, useState } from 'react'\nimport { usePredictionsWithTokenContract } from 'hooks/useContract'\nimport { useWeb3React } from '@web3-react/core'\n\nconst useIsRefundable = (epoch: number) => {\n  const [isRefundable, setIsRefundable] = useState(false)\n  const predictionsContract = usePredictionsWithTokenContract()\n  const { account } = useWeb3React()\n\n  useEffect(() => {\n    const fetchRefundableStatus = async () => {\n      const canClaim = await predictionsContract.methods.claimable(epoch, account).call()\n\n      if (canClaim) {\n        const refundable = await predictionsContract.methods.refundable(epoch, account).call()\n        setIsRefundable(refundable)\n      } else {\n        setIsRefundable(false)\n      }\n    }\n\n    if (account) {\n      fetchRefundableStatus()\n    }\n  }, [account, epoch, predictionsContract, setIsRefundable])\n\n  return { isRefundable, setIsRefundable }\n}\n\nexport default useIsRefundable\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { Box, Flex, Heading, Text, PrizeIcon, BlockIcon } from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { useTranslation } from 'contexts/Localization'\nimport { useBetCanClaim, usePriceBnbBusd } from 'state/hooks'\nimport styled from 'styled-components'\nimport { Bet, BetPosition } from 'state/types'\nimport { fetchBet } from 'state/predictionsWithToken'\nimport { Result } from 'state/predictionsWithToken/helpers'\nimport useIsRefundable from '../../hooks/useIsRefundable'\nimport { formatBnb, getPayout } from '../../helpers'\nimport CollectWinningsButton from '../CollectWinningsButton'\nimport PositionTag from '../PositionTag'\nimport ReclaimPositionButton from '../ReclaimPositionButton'\n\ninterface BetResultProps {\n  bet: Bet\n  result: Result\n}\n\nconst StyledBetResult = styled(Box)`\n  border: 2px solid ${({ theme }) => theme.colors.textDisabled};\n  border-radius: 16px;\n  margin-bottom: 24px;\n  padding: 16px;\n`\n\nconst BetResult: React.FC<BetResultProps> = ({ bet, result }) => {\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const { isRefundable } = useIsRefundable(bet.round.epoch)\n  const bnbBusdPrice = usePriceBnbBusd()\n  const canClaim = useBetCanClaim(account, bet.round.id)\n\n  // Winners get the payout, otherwise the claim what they put it if it was canceled\n  const payout = result === Result.WIN ? getPayout(bet) : bet.amount\n\n  const getHeaderColor = () => {\n    switch (result) {\n      case Result.WIN:\n        return 'warning'\n      case Result.LOSE:\n        return 'textSubtle'\n      case Result.CANCELED:\n        return 'textDisabled'\n      default:\n        return 'text'\n    }\n  }\n\n  const getHeaderText = () => {\n    switch (result) {\n      case Result.WIN:\n        return t('Win')\n      case Result.LOSE:\n        return t('Lose')\n      case Result.CANCELED:\n        return t('Canceled')\n      default:\n        return ''\n    }\n  }\n\n  const getHeaderIcon = () => {\n    switch (result) {\n      case Result.WIN:\n        return <PrizeIcon color={getHeaderColor()} />\n      case Result.LOSE:\n      case Result.CANCELED:\n        return <BlockIcon color={getHeaderColor()} />\n      default:\n        return null\n    }\n  }\n\n  const getResultColor = () => {\n    switch (result) {\n      case Result.WIN:\n        return 'success'\n      case Result.LOSE:\n        return 'failure'\n      case Result.CANCELED:\n      default:\n        return 'text'\n    }\n  }\n\n  const handleSuccess = async () => {\n    await dispatch(fetchBet({ account, id: bet.id }))\n  }\n\n  return (\n    <>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n        <Heading>{t('Your History')}</Heading>\n        <Flex alignItems=\"center\">\n          <Heading as=\"h3\" color={getHeaderColor()} textTransform=\"uppercase\" bold mr=\"4px\">\n            {getHeaderText()}\n          </Heading>\n          {getHeaderIcon()}\n        </Flex>\n      </Flex>\n      <StyledBetResult>\n        {result === Result.WIN && !canClaim && (\n          <CollectWinningsButton\n            payout={payout}\n            roundId={bet.round.id}\n            epoch={bet.round.epoch}\n            hasClaimed={!canClaim}\n            width=\"100%\"\n            mb=\"16px\"\n            onSuccess={handleSuccess}\n          >\n            {t('Collect Winnings')}\n          </CollectWinningsButton>\n        )}\n        {result === Result.CANCELED && isRefundable && (\n          <ReclaimPositionButton epoch={bet.round.epoch} width=\"100%\" mb=\"16px\" />\n        )}\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n          <Text>{t('Your direction')}</Text>\n          <PositionTag betPosition={bet.position}>\n            {bet.position === BetPosition.BULL ? t('Up') : t('Down')}\n          </PositionTag>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n          <Text>{t('Your position')}</Text>\n          <Text>{`${formatBnb(bet.amount)} BNB`}</Text>\n        </Flex>\n        <Flex alignItems=\"start\" justifyContent=\"space-between\">\n          <Text bold>{t('Your Result')}</Text>\n          <Box style={{ textAlign: 'right' }}>\n            <Text bold color={getResultColor()}>{`${result === Result.LOSE ? '-' : '+'}${formatBnb(payout)} BNB`}</Text>\n            <Text fontSize=\"12px\" color=\"textSubtle\">\n              {`~$${formatBnb(bnbBusdPrice.times(payout).toNumber())}`}\n            </Text>\n          </Box>\n        </Flex>\n      </StyledBetResult>\n    </>\n  )\n}\n\nexport default BetResult\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Bet } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBscScanBlockNumberUrl } from 'utils/bscscan'\nimport { Flex, Text, Link, Heading } from '@pancakeswap/uikit'\nimport { Result } from 'state/predictionsWithToken/helpers'\nimport { getMultiplier } from '../../helpers'\nimport { PayoutRow, RoundResult } from '../RoundResult'\nimport BetResult from './BetResult'\n\ninterface BetDetailsProps {\n  bet: Bet\n  result: Result\n}\n\nconst StyledBetDetails = styled.div`\n  background-color: ${({ theme }) => theme.colors.dropdown};\n  border-bottom: 2px solid ${({ theme }) => theme.colors.cardBorder};\n  padding: 24px;\n`\n\nconst BetDetails: React.FC<BetDetailsProps> = ({ bet, result }) => {\n  const { t } = useTranslation()\n  const { totalAmount, bullAmount, bearAmount } = bet.round\n  const bullMultiplier = getMultiplier(totalAmount, bullAmount)\n  const bearMultiplier = getMultiplier(totalAmount, bearAmount)\n\n  return (\n    <StyledBetDetails>\n      {result === Result.CANCELED && (\n        <Text as=\"p\" color=\"failure\" mb=\"24px\">\n          {t(\n            'This round was automatically canceled due to an error. If you entered a position, please reclaim your funds below.',\n          )}\n        </Text>\n      )}\n      {result !== Result.LIVE && <BetResult bet={bet} result={result} />}\n      <Heading mb=\"8px\">{t('Round History')}</Heading>\n      <RoundResult round={bet.round} mb=\"24px\">\n        <PayoutRow positionLabel={t('Up')} multiplier={bullMultiplier} amount={bullAmount} />\n        <PayoutRow positionLabel={t('Down')} multiplier={bearMultiplier} amount={bearAmount} />\n      </RoundResult>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n        <Text>{t('Opening Block')}</Text>\n        <Link href={getBscScanBlockNumberUrl(bet.round.lockBlock)} external>\n          {bet.round.lockBlock}\n        </Link>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\">\n        <Text>{t('Closing Block')}</Text>\n        <Link href={getBscScanBlockNumberUrl(bet.round.endBlock)} external>\n          {bet.round.endBlock}\n        </Link>\n      </Flex>\n    </StyledBetDetails>\n  )\n}\n\nexport default BetDetails\n","import React, { useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  Box,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Flex,\n  IconButton,\n  PlayCircleOutlineIcon,\n  Text,\n  WaitIcon,\n} from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { Bet, PredictionStatus } from 'state/types'\nimport { useBetCanClaim, useGetCurrentEpoch, useGetPredictionsStatus } from 'state/hooks'\nimport { getRoundResult, Result } from 'state/predictionsWithToken/helpers'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatBnb, getPayout } from '../../helpers'\nimport CollectWinningsButton from '../CollectWinningsButton'\nimport ReclaimPositionButton from '../ReclaimPositionButton'\nimport BetDetails from './BetDetails'\n\ninterface BetProps {\n  bet: Bet\n}\n\nconst StyledBet = styled(Flex).attrs({ alignItems: 'center', p: '16px' })`\n  background-color: ${({ theme }) => theme.card.background};\n  border-bottom: 2px solid ${({ theme }) => theme.colors.cardBorder};\n  cursor: pointer;\n`\n\nconst YourResult = styled(Box)`\n  flex: 1;\n`\n\nconst HistoricalBet: React.FC<BetProps> = ({ bet }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { amount, round } = bet\n\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const currentEpoch = useGetCurrentEpoch()\n  const status = useGetPredictionsStatus()\n\n  const toggleOpen = () => setIsOpen(!isOpen)\n\n  const getRoundColor = (result) => {\n    switch (result) {\n      case Result.WIN:\n        return 'success'\n      case Result.LOSE:\n        return 'failure'\n      case Result.CANCELED:\n        return 'textDisabled'\n      default:\n        return 'text'\n    }\n  }\n\n  const getRoundPrefix = (result) => {\n    if (result === Result.LOSE) {\n      return '-'\n    }\n\n    if (result === Result.WIN) {\n      return '+'\n    }\n\n    return ''\n  }\n\n  const roundResult = getRoundResult(bet, currentEpoch)\n  const resultTextColor = getRoundColor(roundResult)\n  const resultTextPrefix = getRoundPrefix(roundResult)\n  const isOpenRound = round.epoch === currentEpoch\n  const isLiveRound = status === PredictionStatus.LIVE && round.epoch === currentEpoch - 1\n  const canClaim = useBetCanClaim(account, bet.round.id)\n\n  // Winners get the payout, otherwise the claim what they put it if it was canceled\n  const payout = roundResult === Result.WIN ? getPayout(bet) : amount\n\n  const renderBetLabel = () => {\n    if (isOpenRound) {\n      return (\n        <Flex alignItems=\"center\">\n          <WaitIcon color=\"primary\" mr=\"6px\" width=\"24px\" />\n          <Text color=\"primary\" bold>\n            {t('Starting Soon')}\n          </Text>\n        </Flex>\n      )\n    }\n\n    if (isLiveRound) {\n      return (\n        <Flex alignItems=\"center\">\n          <PlayCircleOutlineIcon color=\"secondary\" mr=\"6px\" width=\"24px\" />\n          <Text color=\"secondary\" bold>\n            {t('Live Now')}\n          </Text>\n        </Flex>\n      )\n    }\n\n    return (\n      <>\n        <Text fontSize=\"12px\" color=\"textSubtle\">\n          {t('Your Result')}\n        </Text>\n        <Text bold color={resultTextColor} lineHeight={1}>\n          {roundResult === Result.CANCELED ? t('Canceled') : `${resultTextPrefix}${formatBnb(payout)}`}\n        </Text>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <StyledBet onClick={toggleOpen} role=\"button\">\n        <Box width=\"48px\">\n          <Text textAlign=\"center\">\n            <Text fontSize=\"12px\" color=\"textSubtle\">\n              {t('Round')}\n            </Text>\n            <Text bold lineHeight={1}>\n              {round.epoch.toLocaleString()}\n            </Text>\n          </Text>\n        </Box>\n        <YourResult px=\"24px\">{renderBetLabel()}</YourResult>\n        {roundResult === Result.WIN && canClaim && (\n          <CollectWinningsButton\n            hasClaimed={!canClaim}\n            roundId={bet.round.id}\n            epoch={bet.round.epoch}\n            payout={payout}\n            scale=\"sm\"\n            mr=\"8px\"\n          >\n            {t('Collect')}\n          </CollectWinningsButton>\n        )}\n        {roundResult === Result.CANCELED && canClaim && (\n          <ReclaimPositionButton epoch={bet.round.epoch} scale=\"sm\" mr=\"8px\">\n            {t('Reclaim')}\n          </ReclaimPositionButton>\n        )}\n        {!isOpenRound && !isLiveRound && (\n          <IconButton variant=\"text\" scale=\"sm\">\n            {isOpen ? <ChevronUpIcon /> : <ChevronDownIcon />}\n          </IconButton>\n        )}\n      </StyledBet>\n      {isOpen && <BetDetails bet={bet} result={getRoundResult(bet, currentEpoch)} />}\n    </>\n  )\n}\n\nexport default HistoricalBet\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport { Box, Heading, Text } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Bet } from 'state/types'\nimport HistoricalBet from './HistoricalBet'\n\ninterface RoundsTabProps {\n  hasBetHistory: boolean\n  bets: Bet[]\n}\n\nconst RoundsTab: React.FC<RoundsTabProps> = ({ hasBetHistory, bets }) => {\n  const { t } = useTranslation()\n\n  return hasBetHistory ? (\n    <>\n      {orderBy(bets, ['round.epoch'], ['desc']).map((bet) => (\n        <HistoricalBet key={bet.id} bet={bet} />\n      ))}\n    </>\n  ) : (\n    <Box p=\"24px\">\n      <Heading size=\"lg\" textAlign=\"center\" mb=\"8px\">\n        {t('No prediction history available')}\n      </Heading>\n      <Text as=\"p\" textAlign=\"center\">\n        {t(\n          'If you are sure you should see history here, make sure you’re connected to the correct wallet and try again.',\n        )}\n      </Text>\n    </Box>\n  )\n}\n\nexport default RoundsTab\n","// @ts-nocheck\n/**\n * There is ts-nocheck at the top of this file for the following reasons:\n * 1. You can't ignore block in TS at the moment https://stackoverflow.com/questions/51145180/how-to-use-ts-ignore-for-a-block\n * 2. Interpolations in keyframes are indeed supported and work fine https://github.com/styled-components/styled-components/issues/2263\n * But TypeScript definitions are not updated to reflect that - https://github.com/DefinitelyTyped/DefinitelyTyped/issues/48907\n * 3. Since this error is in the middle of a template string there is no way to add @ts-ignore on just that one line\n * without also messing prettier.\n *\n * I'll leave TODO: comment here to check back later if there is update to types\n *\n */\nimport styled, { keyframes } from 'styled-components'\n\ninterface SliceProps {\n  length: number\n  offset?: number\n}\n\nexport const DrawAnimation = keyframes`\n  from {\n    stroke-dasharray: 0, 339.292\n  }\n  to {\n    stroke-dasharray: ${({ length }: SliceProps) => length} 339.292;\n  }\n`\n\nexport const OffsetAnimation = keyframes`\n  from {\n    stroke-dashoffset: 0\n  }\n  to {\n    stroke-dashoffset: ${(props) => -props.offset};\n  }\n`\n\nexport const SVG = styled.svg`\n  width: 128px;\n  height: 128px;\n  transform: rotate(-90deg);\n`\n\nconst DefaultSlice = styled.circle<SliceProps>`\n  fill: none;\n  stroke-width: 16;\n  stroke-dasharray: ${(props) => `${props.length} 339.292`};\n`\n\nexport const LostSlice = styled(DefaultSlice)`\n  stroke: #ed4b9e;\n  animation: ${DrawAnimation} 1s ease;\n`\n\nexport const WonSlice = styled(DefaultSlice)`\n  stroke: #31d0aa;\n  stroke-dashoffset: ${(props) => -props.offset};\n  animation: ${DrawAnimation} 1s ease, ${OffsetAnimation} 1s ease;\n`\n\nexport const Wrapper = styled.div`\n  position: relative;\n  width: 128px;\n  height: 128px;\n`\n\nexport const Info = styled.div`\n  width: 128px;\n  height: 128px;\n  border-radius: 50%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n","import React from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport { Text } from '@pancakeswap/uikit'\nimport { SVG, WonSlice, LostSlice, Wrapper, Info } from './PnlChartStyles'\n\n/**\n * Bare minimum chart that doesn't require any external dependencies\n * For details read here - https://www.smashingmagazine.com/2015/07/designing-simple-pie-charts-with-css/\n */\n\ninterface PnlChartProps {\n  won: number\n  lost: number\n}\n\n// 2 * Pi * R\nconst CIRCUMFERENCE = 339.292\n\nconst PnlChart: React.FC<PnlChartProps> = ({ lost, won }) => {\n  const { t } = useTranslation()\n  const percentageWon = ((won * 100) / (lost + won)).toFixed(2)\n  const paintLost = (lost / (won + lost)) * CIRCUMFERENCE\n  const paintWon = CIRCUMFERENCE - paintLost\n  return (\n    <Wrapper>\n      <SVG viewBox=\"0 0 128 128\">\n        <LostSlice r=\"54\" cx=\"64\" cy=\"64\" length={paintLost} />\n        <WonSlice r=\"54\" cx=\"64\" cy=\"64\" length={paintWon} offset={paintLost} />\n      </SVG>\n      <Info>\n        <Text small lineHeight=\"1\">\n          {t('Won')}\n        </Text>\n        <Text bold fontSize=\"20px\" lineHeight=\"1\">\n          {won}/{won + lost}\n        </Text>\n        <Text small lineHeight=\"1\" color=\"textSubtle\">\n          {percentageWon}%\n        </Text>\n      </Info>\n    </Wrapper>\n  )\n}\n\nexport default PnlChart\n","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport { Flex, Text } from '@pancakeswap/uikit'\nimport { formatBnb } from 'views/Predictions/helpers'\nimport { useTranslation } from 'contexts/Localization'\n\ntype SummaryType = 'won' | 'lost' | 'entered'\n\ninterface SummaryRowProps {\n  type: SummaryType\n  summary: any\n  bnbBusdPrice: BigNumber\n}\n\nconst summaryTypeColors = {\n  won: 'success',\n  lost: 'failure',\n  entered: 'text',\n}\n\nconst summaryTypeSigns = {\n  won: '+',\n  lost: '-',\n  entered: '',\n}\n\nconst SummaryRow: React.FC<SummaryRowProps> = ({ type, summary, bnbBusdPrice }) => {\n  const { t } = useTranslation()\n\n  const color = summaryTypeColors[type]\n  const { rounds, amount } = summary[type]\n  const totalRounds = summary.entered.rounds\n  const roundsInPercents = ((rounds * 100) / totalRounds).toFixed(2)\n  const typeTranslationKey = type.charAt(0).toUpperCase() + type.slice(1)\n  const displayAmount = type === 'won' ? summary[type].payout : amount\n\n  return (\n    <>\n      <Text mt=\"16px\" bold color=\"textSubtle\">\n        {t(typeTranslationKey)}\n      </Text>\n      <Flex>\n        <Flex flex=\"2\" flexDirection=\"column\">\n          <Text bold fontSize=\"20px\" color={color}>\n            {rounds} {t('Rounds').toLocaleLowerCase()}\n          </Text>\n          <Text fontSize=\"12px\" color=\"textSubtle\">\n            {type === 'entered' ? t('Total').toLocaleLowerCase() : `${roundsInPercents}%`}\n          </Text>\n        </Flex>\n        <Flex flex=\"3\" flexDirection=\"column\">\n          <Text bold fontSize=\"20px\" color={color}>\n            {`${summaryTypeSigns[type]}${formatBnb(displayAmount)} BNB`}\n          </Text>\n          <Text fontSize=\"12px\" color=\"textSubtle\">\n            {`~$${formatBnb(bnbBusdPrice.times(displayAmount).toNumber())}`}\n          </Text>\n        </Flex>\n      </Flex>\n    </>\n  )\n}\n\nexport default SummaryRow\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport { Box, Flex, Heading, Text, Button, Link, OpenNewIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBscScanAddressUrl } from 'utils/bscscan'\nimport { useGetCurrentEpoch, usePriceBnbBusd } from 'state/hooks'\nimport { Bet, BetPosition } from 'state/types'\nimport { formatBnb, getMultiplier, getPayout } from 'views/Predictions/helpers'\nimport { getRoundResult, Result } from 'state/predictionsWithToken/helpers'\nimport PnlChart from './PnlChart'\nimport SummaryRow from './SummaryRow'\n\ninterface PnlTabProps {\n  hasBetHistory: boolean\n  bets: Bet[]\n}\n\ninterface PnlCategory {\n  rounds: number\n  amount: number\n}\n\ninterface PnlSummary {\n  won: PnlCategory & { payout: number; bestRound: { id: string; payout: number; multiplier: number } }\n  lost: PnlCategory\n  entered: PnlCategory\n}\n\nconst TREASURY_FEE = 0.03\n\nconst getNetPayout = (bet: Bet) => {\n  const rawPayout = getPayout(bet)\n  const fee = rawPayout * TREASURY_FEE\n  return rawPayout - fee - bet.amount\n}\n\nconst Divider = styled.div`\n  background-color: ${({ theme }) => theme.colors.backgroundDisabled};\n  height: 1px;\n  margin: 24px auto;\n  width: 100%;\n`\n\nconst initialPnlSummary: PnlSummary = {\n  won: {\n    rounds: 0,\n    amount: 0,\n    payout: 0, // net payout after all deductions\n    bestRound: {\n      id: '0',\n      payout: 0, // net payout after all deductions\n      multiplier: 0,\n    },\n  },\n  lost: {\n    rounds: 0,\n    amount: 0,\n  },\n  entered: {\n    rounds: 0,\n    amount: 0,\n  },\n}\n\nconst getPnlSummary = (bets: Bet[], currentEpoch: number): PnlSummary => {\n  return bets.reduce((summary: PnlSummary, bet) => {\n    const roundResult = getRoundResult(bet, currentEpoch)\n    if (roundResult === Result.WIN) {\n      const payout = getNetPayout(bet)\n      let { bestRound } = summary.won\n      if (payout > bestRound.payout) {\n        const { bullAmount, bearAmount, totalAmount } = bet.round\n        const multiplier = getMultiplier(totalAmount, bet.position === BetPosition.BULL ? bullAmount : bearAmount)\n        bestRound = { id: bet.round.id, payout, multiplier }\n      }\n      return {\n        won: {\n          rounds: summary.won.rounds + 1,\n          amount: summary.won.amount + bet.amount,\n          payout: summary.won.payout + payout,\n          bestRound,\n        },\n        entered: {\n          rounds: summary.entered.rounds + 1,\n          amount: summary.entered.amount + bet.amount,\n        },\n        lost: summary.lost,\n      }\n    }\n    if (roundResult === Result.LOSE) {\n      return {\n        lost: {\n          rounds: summary.lost.rounds + 1,\n          amount: summary.lost.amount + bet.amount,\n        },\n        entered: {\n          rounds: summary.entered.rounds + 1,\n          amount: summary.entered.amount + bet.amount,\n        },\n        won: summary.won,\n      }\n    }\n    // Ignore Canceled and Live rounds\n    return summary\n  }, initialPnlSummary)\n}\n\nconst PnlTab: React.FC<PnlTabProps> = ({ hasBetHistory, bets }) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const currentEpoch = useGetCurrentEpoch()\n  const bnbBusdPrice = usePriceBnbBusd()\n\n  const summary = getPnlSummary(bets, currentEpoch)\n  const netResultAmount = summary.won.payout - summary.lost.amount\n  const netResultIsPositive = netResultAmount > 0\n  const avgPositionEntered = summary.entered.amount / summary.entered.rounds\n  const avgBnbWonPerRound = netResultAmount / summary.entered.rounds\n  const avgBnbWonIsPositive = avgBnbWonPerRound > 0\n\n  // Guard in case user has only lost rounds\n  const hasBestRound = summary.won.bestRound.payout !== 0\n\n  return hasBetHistory ? (\n    <Box p=\"16px\">\n      <Text bold fontSize=\"24px\" color=\"secondary\" pb=\"24px\">\n        {t('Your history')}\n      </Text>\n      <Flex>\n        <PnlChart lost={summary.lost.rounds} won={summary.won.rounds} />\n        <Flex flexDirection=\"column\" justifyContent=\"center\" pl=\"24px\">\n          <Text bold color=\"textSubtle\">\n            {t('Net results')}\n          </Text>\n          <Text bold fontSize=\"24px\" lineHeight=\"1\" color={netResultIsPositive ? 'success' : 'failure'}>\n            {`${netResultIsPositive ? '+' : ''}${formatBnb(netResultAmount)} BNB`}\n          </Text>\n          <Text small color=\"textSubtle\">\n            {`~$${formatBnb(bnbBusdPrice.times(netResultAmount).toNumber())}`}\n          </Text>\n        </Flex>\n      </Flex>\n      <Box pl=\"8px\">\n        <Text mt=\"24px\" bold color=\"textSubtle\">\n          {t('Average return / round')}\n        </Text>\n        <Text bold color={avgBnbWonIsPositive ? 'success' : 'failure'}>\n          {`${avgBnbWonIsPositive ? '+' : ''}${formatBnb(avgBnbWonPerRound)} BNB`}\n        </Text>\n        <Text small color=\"textSubtle\">\n          {`~$${formatBnb(bnbBusdPrice.times(avgBnbWonPerRound).toNumber())}`}\n        </Text>\n\n        {hasBestRound && (\n          <>\n            <Text mt=\"16px\" bold color=\"textSubtle\">\n              {t('Best round: #%roundId%', { roundId: summary.won.bestRound.id })}\n            </Text>\n            <Flex alignItems=\"flex-end\">\n              <Text bold color=\"success\">{`+${formatBnb(summary.won.bestRound.payout)} BNB`}</Text>\n              <Text ml=\"4px\" small color=\"textSubtle\">\n                ({summary.won.bestRound.multiplier.toFixed(2)}x)\n              </Text>\n            </Flex>\n            <Text small color=\"textSubtle\">\n              {`~$${formatBnb(bnbBusdPrice.times(summary.won.bestRound.payout).toNumber())}`}\n            </Text>\n          </>\n        )}\n\n        <Text mt=\"16px\" bold color=\"textSubtle\">\n          {t('Average position entered / round')}\n        </Text>\n        <Text bold>{`${formatBnb(avgPositionEntered)} BNB`}</Text>\n        <Text small color=\"textSubtle\">\n          {`~$${formatBnb(bnbBusdPrice.times(avgPositionEntered).toNumber())}`}\n        </Text>\n\n        <Divider />\n\n        <SummaryRow type=\"won\" summary={summary} bnbBusdPrice={bnbBusdPrice} />\n        <SummaryRow type=\"lost\" summary={summary} bnbBusdPrice={bnbBusdPrice} />\n        <SummaryRow type=\"entered\" summary={summary} bnbBusdPrice={bnbBusdPrice} />\n\n        <Flex justifyContent=\"center\" mt=\"24px\">\n          <Link href={`${getBscScanAddressUrl(account)}#internaltx`} mb=\"16px\" external>\n            <Button mt=\"8px\" width=\"100%\">\n              {t('View Reclaimed & Won')}\n              <OpenNewIcon color=\"white\" ml=\"4px\" />\n            </Button>\n          </Link>\n        </Flex>\n      </Box>\n    </Box>\n  ) : (\n    <Box p=\"24px\">\n      <Heading size=\"lg\" textAlign=\"center\" mb=\"8px\">\n        {t('No prediction history available')}\n      </Heading>\n      <Text as=\"p\" textAlign=\"center\">\n        {t(\n          'If you are sure you should see history here, make sure you’re connected to the correct wallet and try again.',\n        )}\n      </Text>\n    </Box>\n  )\n}\n\nexport default PnlTab\n","import React, { useEffect, useState } from 'react'\nimport { Flex, Spinner, Text } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\nimport UnlockButton from 'components/UnlockButton'\nimport { useTranslation } from 'contexts/Localization'\nimport { fetchHistory } from 'state/predictionsWithToken'\nimport { getUnclaimedWinningBets } from 'state/predictionsWithToken/helpers'\nimport { HistoryFilter } from 'state/types'\nimport { useAppDispatch } from 'state'\nimport {\n  useGetCurrentEpoch,\n  useGetHistoryByAccount,\n  useGetHistoryFilter,\n  useGetIsFetchingHistory,\n  useIsHistoryPaneOpen,\n} from 'state/hooks'\nimport { Header, HistoryTabs } from './components/History'\nimport RoundsTab from './components/History/RoundsTab'\nimport PnlTab from './components/History/PnlTab/PnlTab'\n\nconst StyledHistory = styled.div`\n  background-color: ${({ theme }) => theme.card.background};\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`\n\nconst BetWrapper = styled.div`\n  flex: 1;\n  height: 100%;\n  overflow-y: auto;\n  position: relative;\n`\n\nconst SpinnerWrapper = styled.div`\n  align-items: center;\n  background-color: ${({ theme }) => theme.card.background};\n  display: flex;\n  left: 0;\n  height: 100%;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`\n\nconst History = () => {\n  const { account } = useWeb3React()\n  const dispatch = useAppDispatch()\n  const isHistoryPaneOpen = useIsHistoryPaneOpen()\n  const isFetchingHistory = useGetIsFetchingHistory()\n  const historyFilter = useGetHistoryFilter()\n  const currentEpoch = useGetCurrentEpoch()\n  const { t } = useTranslation()\n  const bets = useGetHistoryByAccount(account)\n  const [activeTab, setActiveTab] = useState(HistoryTabs.ROUNDS)\n\n  useEffect(() => {\n    if (account && isHistoryPaneOpen) {\n      dispatch(fetchHistory({ account }))\n    }\n  }, [account, currentEpoch, isHistoryPaneOpen, dispatch])\n\n  // Currently the api cannot filter by unclaimed AND won so we do it here\n  // when the user has selected Uncollected only include positions they won\n  const results = historyFilter === HistoryFilter.UNCOLLECTED ? getUnclaimedWinningBets(bets) : bets\n\n  const hasBetHistory = results && results.length > 0\n\n  let activeTabComponent = null\n\n  switch (activeTab) {\n    case HistoryTabs.PNL:\n      activeTabComponent = <PnlTab hasBetHistory={hasBetHistory} bets={results} />\n      break\n    case HistoryTabs.ROUNDS:\n    default:\n      activeTabComponent = <RoundsTab hasBetHistory={hasBetHistory} bets={results} />\n      break\n  }\n\n  if (!account) {\n    activeTabComponent = (\n      <Flex justifyContent=\"center\" alignItems=\"center\" flexDirection=\"column\" mt=\"32px\">\n        <UnlockButton />\n        <Text mt=\"8px\">{t('Connect your wallet to view your prediction history')}</Text>\n      </Flex>\n    )\n  }\n\n  return (\n    <StyledHistory>\n      <Header activeTab={activeTab} setActiveTab={setActiveTab} />\n      <BetWrapper>\n        {isFetchingHistory ? (\n          <SpinnerWrapper>\n            <Spinner size={72} />\n          </SpinnerWrapper>\n        ) : (\n          activeTabComponent\n        )}\n      </BetWrapper>\n    </StyledHistory>\n  )\n}\n\nexport default History\n","import React from 'react'\nimport { useTheme } from 'styled-components'\nimport { Svg, SvgProps } from '@pancakeswap/uikit'\n\ninterface MultiplierProps extends SvgProps {\n  isActive: boolean\n}\n\nexport const RoundMultiplierDownArrow: React.FC<MultiplierProps> = ({ isActive, ...props }) => {\n  const theme = useTheme()\n  const fill = theme.colors[isActive ? 'failure' : 'tertiary']\n\n  return (\n    <Svg height=\"65px\" width=\"240px\" viewBox=\"0 0 240 65\" {...props}>\n      <g filter=\"url(#filter0_i)\">\n        <path\n          d=\"M10.0001 15.7243L10.0003 1H234L234 15.7247C234 22.4864 229.749 28.5181 223.381 30.7923L138.48 61.1141C127.823 64.9203 116.177 64.9203 105.519 61.1141L20.6188 30.7924C14.2508 28.5181 10.0001 22.4862 10.0001 15.7243Z\"\n          fill={fill}\n        />\n      </g>\n      <defs>\n        <filter\n          id=\"filter0_i\"\n          x=\"10.0001\"\n          y=\"1\"\n          width=\"224\"\n          height=\"62.9688\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"BackgroundImageFix\" result=\"shape\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"1\" />\n          <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n          <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\" />\n          <feBlend mode=\"normal\" in2=\"shape\" result=\"effect1_innerShadow\" />\n        </filter>\n      </defs>\n    </Svg>\n  )\n}\n\nexport const RoundMultiplierUpArrow: React.FC<MultiplierProps> = ({ isActive, ...props }) => {\n  const theme = useTheme()\n  const fill = theme.colors[isActive ? 'success' : 'tertiary']\n\n  return (\n    <Svg height=\"65px\" width=\"240px\" viewBox=\"0 0 240 65\" {...props}>\n      <g filter=\"url(#filter0_i)\">\n        <path\n          d=\"M10.0001 49.2757L10.0003 64H234L234 49.2753C234 42.5136 229.749 36.4819 223.381 34.2077L138.48 3.8859C127.823 0.0796983 116.177 0.0796931 105.519 3.8859L20.6188 34.2076C14.2508 36.4819 10.0001 42.5138 10.0001 49.2757Z\"\n          fill={fill}\n        />\n      </g>\n      <defs>\n        <filter\n          id=\"filter0_i\"\n          x=\"10.0001\"\n          y=\"1.03125\"\n          width=\"224\"\n          height=\"62.9688\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"BackgroundImageFix\" result=\"shape\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"1\" />\n          <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n          <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\" />\n          <feBlend mode=\"normal\" in2=\"shape\" result=\"effect1_innerShadow\" />\n        </filter>\n      </defs>\n    </Svg>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { CheckmarkCircleIcon, Tag, useTooltip } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatBnb } from '../../helpers'\n\ninterface EnteredTagProps {\n  amount?: number\n}\n\nconst StyledEnteredTag = styled(Tag).attrs({\n  variant: 'secondary',\n  startIcon: <CheckmarkCircleIcon width=\"18px\" />,\n})`\n  font-weight: bold;\n  text-transform: uppercase;\n`\n\nconst EnteredTag: React.FC<EnteredTagProps> = ({ amount }) => {\n  const { t } = useTranslation()\n  const { targetRef, tooltipVisible, tooltip } = useTooltip(\n    <div style={{ whiteSpace: 'nowrap' }}>{`${formatBnb(amount)} BNB`}</div>,\n    { placement: 'bottom' },\n  )\n\n  return (\n    <>\n      <span ref={targetRef}>\n        <StyledEnteredTag>{t('Entered')}</StyledEnteredTag>{' '}\n      </span>{' '}\n      {tooltipVisible && tooltip}\n    </>\n  )\n}\n\nexport default EnteredTag\n","import React from 'react'\nimport styled, { CSSProperties } from 'styled-components'\nimport { Box, Flex, Text } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { BetPosition } from 'state/types'\nimport { RoundMultiplierDownArrow, RoundMultiplierUpArrow } from '../../RoundMultiplierArrows'\nimport EnteredTag from './EnteredTag'\n\ninterface MultiplierArrowProps {\n  betAmount?: number\n  multiplier?: number\n  hasEntered?: boolean\n  betPosition?: BetPosition\n  isDisabled?: boolean\n  isActive?: boolean\n}\n\nconst ArrowWrapper = styled.div`\n  height: 65px;\n  margin: 0 auto;\n  width: 240px;\n`\n\nconst Content = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  left: 0;\n  height: 100%;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`\n\nconst EnteredTagWrapper = styled.div`\n  position: absolute;\n  z-index: 10;\n`\n\nconst getTextColor =\n  (fallback = 'textSubtle') =>\n  (isActive: boolean, isDisabled: boolean) => {\n    if (isDisabled) {\n      return 'textDisabled'\n    }\n\n    if (isActive) {\n      return 'white'\n    }\n\n    return fallback\n  }\n\nconst MultiplierArrow: React.FC<MultiplierArrowProps> = ({\n  betAmount,\n  multiplier,\n  hasEntered = false,\n  betPosition = BetPosition.BULL,\n  isDisabled = false,\n  isActive = false,\n}) => {\n  const { t } = useTranslation()\n  const upColor = getTextColor('success')(isActive, isDisabled)\n  const downColor = getTextColor('failure')(isActive, isDisabled)\n  const textColor = getTextColor()(isActive, isDisabled)\n  const multiplierText = (\n    <Box>\n      <Flex justifyContent=\"center\" height=\"14px\">\n        <Text fontSize=\"14px\" color={textColor} bold lineHeight=\"14x\">\n          {multiplier !== undefined ? `${multiplier.toLocaleString(undefined, { maximumFractionDigits: 2 })}x` : '-'}\n        </Text>\n        <Text fontSize=\"14px\" color={textColor} lineHeight=\"14x\" ml=\"4px\">\n          {t('Payout')}\n        </Text>\n      </Flex>\n    </Box>\n  )\n\n  const getEnteredTag = (position: CSSProperties) => {\n    if (!hasEntered) {\n      return null\n    }\n\n    return (\n      <EnteredTagWrapper style={position}>\n        <EnteredTag amount={betAmount} />\n      </EnteredTagWrapper>\n    )\n  }\n\n  if (betPosition === BetPosition.BEAR) {\n    return (\n      <Box position=\"relative\">\n        <ArrowWrapper>\n          <RoundMultiplierDownArrow isActive={isActive} />\n          {getEnteredTag({ bottom: 0, right: 0 })}\n          <Content>\n            {!isDisabled && multiplierText}\n            <Text bold fontSize=\"20px\" mb=\"8px\" color={downColor} textTransform=\"uppercase\">\n              {t('Down')}\n            </Text>\n          </Content>\n        </ArrowWrapper>\n      </Box>\n    )\n  }\n\n  return (\n    <Box position=\"relative\">\n      <ArrowWrapper>\n        <RoundMultiplierUpArrow isActive={isActive} />\n        {getEnteredTag({ top: 0, left: 0 })}\n        <Content>\n          <Text bold fontSize=\"20px\" lineHeight=\"21px\" color={upColor} textTransform=\"uppercase\">\n            {t('Up')}\n          </Text>\n          {!isDisabled && multiplierText}\n        </Content>\n      </ArrowWrapper>\n    </Box>\n  )\n}\n\nexport default MultiplierArrow\n","import styled from 'styled-components'\nimport { Card as UIKitCard } from '@pancakeswap/uikit'\n\nconst Card = styled(UIKitCard)`\n  border-radius: 16px;\n`\n\nexport default Card\n","import React, { ReactElement } from 'react'\nimport { Flex, Text } from '@pancakeswap/uikit'\nimport styled, { DefaultTheme } from 'styled-components'\n\ntype Status = 'expired' | 'live' | 'next' | 'soon' | 'canceled' | 'calculating'\n\ninterface CardHeaderProps {\n  status: Status\n  title: string\n  epoch: number\n  blockNumber: number\n  icon?: ReactElement\n}\n\nconst getBackgroundColor = (theme: DefaultTheme, status: Status) => {\n  switch (status) {\n    case 'calculating':\n      return theme.colors.gradients.cardHeader\n    case 'live':\n      return 'transparent'\n    case 'canceled':\n      return theme.colors.warning\n    case 'next':\n      return theme.colors.secondary\n    case 'expired':\n    case 'soon':\n    default:\n      return theme.colors.cardBorder\n  }\n}\n\ntype TextColor = 'textDisabled' | 'white' | 'secondary' | 'text' | 'textSubtle'\ntype FallbackColor = 'text' | 'textSubtle'\n\nconst getTextColorByStatus = (status: Status, fallback: FallbackColor): TextColor => {\n  switch (status) {\n    case 'expired':\n      return 'textDisabled'\n    case 'next':\n      return 'white'\n    case 'live':\n      return 'secondary'\n    case 'canceled':\n    case 'calculating':\n      return 'text'\n    default:\n      return fallback\n  }\n}\n\nconst StyledCardHeader = styled.div<{ status: Status }>`\n  align-items: center;\n  background: ${({ theme, status }) => getBackgroundColor(theme, status)};\n  border-radius: 16px 16px 0 0;\n  display: flex;\n  justify-content: space-between;\n  padding: ${({ status }) => (status === 'live' ? '16px' : '8px')};\n`\n\nconst Round = styled.div`\n  justify-self: center;\n`\n\nconst CardHeader: React.FC<CardHeaderProps> = ({ status, title, epoch, icon }) => {\n  const textColor = getTextColorByStatus(status, 'text')\n  const isLive = status === 'live'\n\n  return (\n    <StyledCardHeader status={status}>\n      <Flex alignItems=\"center\">\n        {icon}\n        <Text color={textColor} bold={isLive} textTransform={isLive ? 'uppercase' : 'capitalize'} lineHeight=\"21px\">\n          {title}\n        </Text>\n      </Flex>\n      <Round>\n        <Text fontSize={isLive ? '14px' : '12px'} color={getTextColorByStatus(status, 'textSubtle')} textAlign=\"center\">\n          {`#${epoch}`}\n        </Text>\n      </Round>\n    </StyledCardHeader>\n  )\n}\n\nexport default CardHeader\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\nimport { Flex, TrophyGoldIcon } from '@pancakeswap/uikit'\nimport { useBetCanClaim } from 'state/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport CollectWinningsButton from '../CollectWinningsButton'\n\ninterface CollectWinningsOverlayProps {\n  roundId: string\n  epoch: number\n  payout: number\n  isBottom?: boolean\n}\n\nconst Wrapper = styled(Flex)<{ isBottom: CollectWinningsOverlayProps['isBottom'] }>`\n  background-color: ${({ theme }) => theme.colors.secondary};\n  left: 0;\n  position: absolute;\n  width: 100%;\n  z-index: 30;\n\n  ${({ isBottom }) => {\n    return isBottom\n      ? `\n      border-radius: 0 0 16px 16px;\n      bottom: 0;\n    `\n      : `\n      top: 37px; // Card header height\n    `\n  }}\n`\n\nconst CollectWinningsOverlay: React.FC<CollectWinningsOverlayProps> = ({\n  roundId,\n  epoch,\n  payout,\n  isBottom = false,\n  ...props\n}) => {\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const canClaim = useBetCanClaim(account, roundId)\n\n  if (!canClaim) {\n    return null\n  }\n\n  return (\n    <Wrapper alignItems=\"center\" p=\"16px\" isBottom={isBottom} {...props}>\n      <TrophyGoldIcon width=\"64px\" style={{ flex: 'none' }} mr=\"8px\" />\n      <CollectWinningsButton payout={payout} roundId={roundId} epoch={epoch} hasClaimed={false} width=\"100%\">\n        {t('Collect Winnings')}\n      </CollectWinningsButton>\n    </Wrapper>\n  )\n}\n\nexport default CollectWinningsOverlay\n","import React from 'react'\nimport { CardBody, Text, Flex, BlockIcon, LinkExternal } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Round, BetPosition } from 'state/types'\nimport { useGetTotalIntervalBlocks } from 'state/hooks'\nimport ReclaimPositionButton from '../ReclaimPositionButton'\nimport useIsRefundable from '../../hooks/useIsRefundable'\nimport { RoundResultBox } from '../RoundResult'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\n\ninterface CanceledRoundCardProps {\n  round: Round\n}\n\nconst CanceledRoundCard: React.FC<CanceledRoundCardProps> = ({ round }) => {\n  const { t } = useTranslation()\n  const interval = useGetTotalIntervalBlocks()\n  const { isRefundable, setIsRefundable } = useIsRefundable(round.epoch)\n  const { epoch, startBlock } = round\n  const estimatedEndBlock = startBlock + interval\n\n  const handleSuccess = async () => {\n    setIsRefundable(false)\n  }\n\n  return (\n    <Card>\n      <CardHeader\n        status=\"canceled\"\n        icon={<BlockIcon mr=\"4px\" width=\"21px\" />}\n        title={t('Canceled')}\n        epoch={round.epoch}\n        blockNumber={estimatedEndBlock}\n      />\n      <CardBody p=\"16px\">\n        <MultiplierArrow isDisabled />\n        <RoundResultBox>\n          <Flex flexDirection=\"column\" alignItems=\"center\">\n            <Text bold color={isRefundable ? 'text' : 'textDisabled'}>\n              {t('Round Canceled')}\n            </Text>\n            {isRefundable && <ReclaimPositionButton epoch={epoch} onSuccess={handleSuccess} width=\"100%\" my=\"8px\" />}\n            <LinkExternal href=\"https://docs.pancakeswap.finance/products/prediction\" external>\n              {t('Learn More')}\n            </LinkExternal>\n          </Flex>\n        </RoundResultBox>\n        <MultiplierArrow betPosition={BetPosition.BEAR} isDisabled />\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default CanceledRoundCard\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport { Box, BlockIcon, CardBody } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Round, BetPosition } from 'state/types'\nimport { useGetBetByRoundId } from 'state/hooks'\nimport { RoundResult } from '../RoundResult'\nimport { getPayout } from '../../helpers'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\nimport CollectWinningsOverlay from './CollectWinningsOverlay'\nimport CanceledRoundCard from './CanceledRoundCard'\n\ninterface ExpiredRoundCardProps {\n  round: Round\n  betAmount?: number\n  hasEnteredUp: boolean\n  hasEnteredDown: boolean\n  bullMultiplier: number\n  bearMultiplier: number\n}\n\nconst StyledExpiredRoundCard = styled(Card)`\n  opacity: 0.7;\n  transition: opacity 300ms;\n\n  &:hover {\n    opacity: 1;\n  }\n`\n\nconst ExpiredRoundCard: React.FC<ExpiredRoundCardProps> = ({\n  round,\n  betAmount,\n  hasEnteredUp,\n  hasEnteredDown,\n  bullMultiplier,\n  bearMultiplier,\n}) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const { id, epoch, endBlock, lockPrice, closePrice } = round\n  const betPosition = closePrice > lockPrice ? BetPosition.BULL : BetPosition.BEAR\n  const bet = useGetBetByRoundId(account, round.id)\n  const payout = getPayout(bet)\n\n  if (round.failed) {\n    return <CanceledRoundCard round={round} />\n  }\n\n  return (\n    <Box position=\"relative\">\n      <StyledExpiredRoundCard>\n        <CardHeader\n          status=\"expired\"\n          icon={<BlockIcon mr=\"4px\" width=\"21px\" color=\"textDisabled\" />}\n          title={t('Expired')}\n          blockNumber={endBlock}\n          epoch={round.epoch}\n        />\n        <CardBody p=\"16px\" style={{ position: 'relative' }}>\n          <MultiplierArrow\n            betAmount={betAmount}\n            multiplier={bullMultiplier}\n            isActive={betPosition === BetPosition.BULL}\n            hasEntered={hasEnteredUp}\n          />\n          <RoundResult round={round} />\n          <MultiplierArrow\n            betAmount={betAmount}\n            multiplier={bearMultiplier}\n            betPosition={BetPosition.BEAR}\n            isActive={betPosition === BetPosition.BEAR}\n            hasEntered={hasEnteredDown}\n          />\n        </CardBody>\n      </StyledExpiredRoundCard>\n      <CollectWinningsOverlay roundId={id} epoch={epoch} payout={payout} isBottom={hasEnteredDown} />\n    </Box>\n  )\n}\n\nexport default ExpiredRoundCard\n","import React from 'react'\nimport { CardBody, Flex, Spinner, WaitIcon, TooltipText, useTooltip, InfoIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Round, BetPosition } from 'state/types'\nimport { useGetTotalIntervalBlocks } from 'state/hooks'\nimport { RoundResultBox } from '../RoundResult'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\n\ninterface CalculatingCardProps {\n  round: Round\n}\n\nconst CalculatingCard: React.FC<CalculatingCardProps> = ({ round }) => {\n  const { t } = useTranslation()\n  const interval = useGetTotalIntervalBlocks()\n  const estimatedEndBlock = round.startBlock + interval\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\n    t('This round’s closing transaction has been submitted to the blockchain, and is awaiting confirmation.'),\n    { placement: 'bottom' },\n  )\n\n  return (\n    <>\n      <Card>\n        <CardHeader\n          status=\"calculating\"\n          icon={<WaitIcon mr=\"4px\" width=\"21px\" />}\n          title={t('Calculating')}\n          epoch={round.epoch}\n          blockNumber={estimatedEndBlock}\n        />\n        <CardBody p=\"16px\">\n          <MultiplierArrow isDisabled />\n          <RoundResultBox>\n            <Flex alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n              <Spinner size={96} />\n              <Flex mt=\"8px\" ref={targetRef}>\n                <TooltipText>{t('Calculating')}</TooltipText>\n                <InfoIcon ml=\"4px\" />\n              </Flex>\n            </Flex>\n          </RoundResultBox>\n          <MultiplierArrow betPosition={BetPosition.BEAR} isDisabled />\n        </CardBody>\n      </Card>\n      {tooltipVisible && tooltip}\n    </>\n  )\n}\n\nexport default CalculatingCard\n","import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useCountUp } from 'react-countup'\nimport { CardBody, Flex, PlayCircleOutlineIcon, Skeleton, Text, TooltipText, useTooltip } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Round, BetPosition } from 'state/types'\nimport { useBlock, useGetIntervalBlocks, useGetLastOraclePrice } from 'state/hooks'\nimport BlockProgress from 'components/BlockProgress'\nimport { formatUsd, getBubbleGumBackground } from '../../helpers'\nimport PositionTag from '../PositionTag'\nimport { RoundResultBox, LockPriceRow, PrizePoolRow } from '../RoundResult'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\nimport CanceledRoundCard from './CanceledRoundCard'\nimport CalculatingCard from './CalculatingCard'\n\ninterface LiveRoundCardProps {\n  round: Round\n  betAmount?: number\n  hasEnteredUp: boolean\n  hasEnteredDown: boolean\n  bullMultiplier: number\n  bearMultiplier: number\n}\n\nconst GradientBorder = styled.div`\n  background: linear-gradient(180deg, #53dee9 0%, #7645d9 100%);\n  border-radius: 16px;\n  padding: 1px;\n`\n\nconst GradientCard = styled(Card)`\n  background: ${({ theme }) => getBubbleGumBackground(theme)};\n`\n\nconst LiveRoundCard: React.FC<LiveRoundCardProps> = ({\n  round,\n  betAmount,\n  hasEnteredUp,\n  hasEnteredDown,\n  bullMultiplier,\n  bearMultiplier,\n}) => {\n  const { t } = useTranslation()\n  const { lockPrice, lockBlock, totalAmount } = round\n  const { currentBlock } = useBlock()\n  const totalInterval = useGetIntervalBlocks()\n  const price = useGetLastOraclePrice()\n  const isBull = price.gt(lockPrice)\n  const priceColor = isBull ? 'success' : 'failure'\n  const estimatedEndBlock = lockBlock + totalInterval\n  const priceDifference = price.minus(lockPrice).toNumber()\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end: price.toNumber(),\n    duration: 1,\n    decimals: 3,\n  })\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(t('Last price from Chainlink Oracle'), {\n    placement: 'bottom',\n  })\n\n  useEffect(() => {\n    update(price.toNumber())\n  }, [price, update])\n\n  if (round.failed) {\n    return <CanceledRoundCard round={round} />\n  }\n\n  if (currentBlock > estimatedEndBlock) {\n    return <CalculatingCard round={round} />\n  }\n\n  return (\n    <GradientBorder>\n      <GradientCard>\n        <CardHeader\n          status=\"live\"\n          icon={<PlayCircleOutlineIcon mr=\"4px\" width=\"24px\" color=\"secondary\" />}\n          title={t('Live')}\n          epoch={round.epoch}\n          blockNumber={estimatedEndBlock}\n        />\n        <BlockProgress variant=\"flat\" scale=\"sm\" startBlock={lockBlock} endBlock={estimatedEndBlock} />\n        <CardBody p=\"16px\">\n          <MultiplierArrow\n            betAmount={betAmount}\n            multiplier={bullMultiplier}\n            hasEntered={hasEnteredUp}\n            isActive={isBull}\n          />\n          <RoundResultBox betPosition={isBull ? BetPosition.BULL : BetPosition.BEAR}>\n            <Text color=\"textSubtle\" fontSize=\"12px\" bold textTransform=\"uppercase\" mb=\"8px\">\n              {t('Last Price')}\n            </Text>\n            <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\" height=\"36px\">\n              <div ref={targetRef}>\n                <TooltipText bold color={priceColor} fontSize=\"24px\" style={{ minHeight: '36px' }}>\n                  {price.gt(0) ? `$${countUp}` : <Skeleton height=\"36px\" width=\"94px\" />}\n                </TooltipText>\n              </div>\n              <PositionTag betPosition={isBull ? BetPosition.BULL : BetPosition.BEAR}>\n                {formatUsd(priceDifference)}\n              </PositionTag>\n            </Flex>\n            {lockPrice && <LockPriceRow lockPrice={lockPrice} />}\n            <PrizePoolRow totalAmount={totalAmount} />\n          </RoundResultBox>\n          <MultiplierArrow\n            betAmount={betAmount}\n            multiplier={bearMultiplier}\n            betPosition={BetPosition.BEAR}\n            hasEntered={hasEnteredDown}\n            isActive={!isBull}\n          />\n        </CardBody>\n      </GradientCard>\n      {tooltipVisible && tooltip}\n    </GradientBorder>\n  )\n}\n\nexport default LiveRoundCard\n","import React, { ReactNode } from 'react'\nimport styled from 'styled-components'\n\ninterface CardFlipProps {\n  isFlipped: boolean\n  height: string\n  children: [ReactNode, ReactNode]\n}\n\nconst Front = styled.div`\n  align-items: center;\n  backface-visibility: hidden;\n  display: flex;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  transition: z-index 600ms;\n  width: 100%;\n\n  & > div {\n    flex: 1;\n  }\n`\n\nconst Back = styled(Front)`\n  transform: rotateY(180deg);\n`\n\nconst Inner = styled.div<{ isFlipped: CardFlipProps['isFlipped'] }>`\n  height: 100%;\n  position: relative;\n  transform: rotateY(${({ isFlipped }) => (isFlipped ? 180 : 0)}deg);\n  transform-style: preserve-3d;\n  transition: transform 600ms;\n\n  ${Front} {\n    z-index: ${({ isFlipped }) => (isFlipped ? 5 : 10)};\n  }\n\n  ${Back} {\n    z-index: ${({ isFlipped }) => (isFlipped ? 10 : 5)};\n  }\n`\n\nconst StyledCardFlip = styled.div`\n  perspective: 1000px;\n  z-index: auto;\n`\n\nconst getComponents = (children: CardFlipProps['children']) => {\n  if (children.length !== 2) {\n    throw new Error('CardFlip: Two children are required')\n  }\n\n  return children\n}\n\nconst CardFlip: React.FC<CardFlipProps> = ({ isFlipped, height, children }) => {\n  const [front, back] = getComponents(children)\n\n  return (\n    <StyledCardFlip style={{ height }}>\n      <Inner isFlipped={isFlipped}>\n        <Front>{front}</Front>\n        <Back>{back}</Back>\n      </Inner>\n    </StyledCardFlip>\n  )\n}\n\nexport default CardFlip\n","import { useContext } from 'react'\nimport { SwiperContext } from '../context/SwiperProvider'\n\nconst useSwiper = () => {\n  const swiperContext = useContext(SwiperContext)\n\n  if (swiperContext === undefined) {\n    throw new Error('Swiper not found')\n  }\n\n  return swiperContext\n}\n\nexport default useSwiper\n","import styled from 'styled-components'\nimport { Flex } from '@pancakeswap/uikit'\n\nconst FlexRow = styled(Flex).attrs({ alignItems: 'center' })`\n  flex: 1;\n`\n\nexport default FlexRow\n","import React, { useEffect, useState } from 'react'\nimport {\n  ArrowBackIcon,\n  CardBody,\n  CardHeader,\n  Flex,\n  Heading,\n  IconButton,\n  Button,\n  IcebrkIcon,\n  Text,\n  BalanceInput,\n  Slider,\n  Box,\n  AutoRenewIcon,\n} from '@pancakeswap/uikit'\nimport BigNumber from 'bignumber.js'\nimport { DEFAULT_TOKEN_DECIMAL } from 'config'\nimport { useWeb3React } from '@web3-react/core'\nimport { useGetMinBetAmount } from 'state/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport { usePredictionsWithTokenContract } from 'hooks/useContract'\nimport useTokenBalance from 'hooks/useTokenBalance'\nimport useToast from 'hooks/useToast'\nimport { BetPosition } from 'state/types'\nimport { getDecimalAmount } from 'utils/formatBalance'\nimport UnlockButton from 'components/UnlockButton'\nimport { BIG_NINE, BIG_TEN } from 'utils/bigNumber'\nimport PositionTag from '../PositionTag'\nimport { getTokenAmount } from '../../helpers'\nimport useSwiper from '../../hooks/useSwiper'\nimport FlexRow from '../FlexRow'\nimport Card from './Card'\nimport tokens from '../../../../config/constants/tokens'\n\nconst icebrk = tokens.cake.address[56]\n\ninterface SetPositionCardProps {\n  position: BetPosition\n  togglePosition: () => void\n  onBack: () => void\n  onSuccess: (decimalValue: BigNumber, hash: string) => Promise<void>\n}\n\n// /!\\ TEMPORARY /!\\\n// Set default gasPrice (6 gwei) when calling BetBull/BetBear before new contract is released fixing this 'issue'.\n// TODO: Remove on beta-v2 smart contract release.\nconst gasPrice = new BigNumber(6).times(BIG_TEN.pow(BIG_NINE)).toString()\n\nconst dust = new BigNumber(0.01).times(DEFAULT_TOKEN_DECIMAL)\nconst percentShortcuts = [10, 25, 50, 75]\n\nconst getPercentDisplay = (percentage: number) => {\n  if (Number.isNaN(percentage)) {\n    return ''\n  }\n\n  if (percentage > 100) {\n    return ''\n  }\n\n  if (percentage < 0) {\n    return ''\n  }\n\n  return `${percentage.toLocaleString(undefined, { maximumFractionDigits: 1 })}%`\n}\n\nconst getButtonProps = (value: BigNumber, tokenBalance: BigNumber, minBetAmountBalance: number) => {\n  if (tokenBalance.eq(0)) {\n    return { key: 'Insufficient BNB balance', disabled: true }\n  }\n\n  if (value.eq(0) || value.isNaN()) {\n    return { key: 'Enter an amount', disabled: true }\n  }\n  return { key: 'Confirm', disabled: value.lt(minBetAmountBalance) }\n}\n\nconst SetPositionCard: React.FC<SetPositionCardProps> = ({ position, togglePosition, onBack, onSuccess }) => {\n  const [value, setValue] = useState('')\n  const [isTxPending, setIsTxPending] = useState(false)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const { account } = useWeb3React()\n  const { swiper } = useSwiper()\n  const tokenBalance = useTokenBalance(icebrk)\n  const minBetAmount = useGetMinBetAmount()\n  const { t } = useTranslation()\n  const { toastError } = useToast()\n  const predictionsContract = usePredictionsWithTokenContract()\n\n  const balanceDisplay = getTokenAmount(tokenBalance).toNumber()\n  const maxBalance = getTokenAmount(tokenBalance.gt(dust) ? tokenBalance.minus(dust) : tokenBalance).toNumber()\n  const valueAsBn = new BigNumber(value)\n\n  const percentageOfMaxBalance = valueAsBn.div(maxBalance).times(100).toNumber()\n  const percentageDisplay = getPercentDisplay(percentageOfMaxBalance)\n  const showFieldWarning = account && valueAsBn.gt(0) && errorMessage !== null\n  const minBetAmountBalance = getTokenAmount(minBetAmount).toNumber()\n\n  const handleChange = (input) => {\n    setValue(input)\n  }\n\n  const handleSliderChange = (newValue: number) => {\n    setValue(newValue.toString())\n  }\n\n  const setMax = () => {\n    setValue(maxBalance.toString())\n  }\n\n  // Clear value\n  const handleGoBack = () => {\n    setValue('')\n    onBack()\n  }\n\n  // Disable the swiper events to avoid conflicts\n  const handleMouseOver = () => {\n    swiper.keyboard.disable()\n    swiper.mousewheel.disable()\n    swiper.detachEvents()\n  }\n\n  const handleMouseOut = () => {\n    swiper.keyboard.enable()\n    swiper.mousewheel.enable()\n    swiper.attachEvents()\n  }\n\n  const { key, disabled } = getButtonProps(valueAsBn, tokenBalance, minBetAmountBalance)\n\n  const handleEnterPosition = () => {\n    const betMethod = position === BetPosition.BULL ? 'betBull' : 'betBear'\n    const decimalValue = getDecimalAmount(valueAsBn)\n\n    predictionsContract.methods[betMethod](decimalValue)\n      .send({ from: account, gasPrice })\n      .once('sending', () => {\n        setIsTxPending(true)\n      })\n      .once('receipt', async (result) => {\n        setIsTxPending(false)\n        onSuccess(decimalValue, result.transactionHash as string)\n      })\n      .once('error', (error) => {\n        const errorMsg = t('An error occurred, unable to enter your position')\n\n        toastError(t('Error'), error?.message)\n        setIsTxPending(false)\n        console.error(errorMsg, error)\n      })\n  }\n\n  // Warnings\n  useEffect(() => {\n    const bnValue = new BigNumber(value)\n    const hasSufficientBalance = bnValue.gt(0) && bnValue.lte(maxBalance)\n\n    if (!hasSufficientBalance) {\n      setErrorMessage({ key: 'Insufficient ICEBRK balance' })\n    } else if (bnValue.gt(0) && bnValue.lt(minBetAmountBalance)) {\n      setErrorMessage({\n        key: 'A minimum amount of %num% %token% is required',\n        data: { num: minBetAmountBalance, token: 'ICEBRK' },\n      })\n    } else {\n      setErrorMessage(null)\n    }\n  }, [value, maxBalance, minBetAmountBalance, setErrorMessage])\n\n  return (\n    <Card onMouseOver={handleMouseOver} onMouseOut={handleMouseOut}>\n      <CardHeader p=\"16px\">\n        <Flex alignItems=\"center\">\n          <IconButton variant=\"text\" scale=\"sm\" onClick={handleGoBack} mr=\"8px\">\n            <ArrowBackIcon width=\"24px\" />\n          </IconButton>\n          <FlexRow>\n            <Heading scale=\"md\">{t('Set Position')}</Heading>\n          </FlexRow>\n          <PositionTag betPosition={position} onClick={togglePosition}>\n            {position === BetPosition.BULL ? t('Up') : t('Down')}\n          </PositionTag>\n        </Flex>\n      </CardHeader>\n      <CardBody py=\"16px\">\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n          <Text textAlign=\"right\" color=\"textSubtle\">\n            {t('Commit')}:\n          </Text>\n          <Flex alignItems=\"center\">\n            <IcebrkIcon mr=\"4px  \" />\n            <Text bold textTransform=\"uppercase\">\n              ICEBRK\n            </Text>\n          </Flex>\n        </Flex>\n        <BalanceInput\n          value={value}\n          onUserInput={handleChange}\n          isWarning={showFieldWarning}\n          inputProps={{ disabled: !account || isTxPending }}\n        />\n        {showFieldWarning && (\n          <Text color=\"failure\" fontSize=\"12px\" mt=\"4px\" textAlign=\"right\">\n            {t(errorMessage.key, errorMessage.data)}\n          </Text>\n        )}\n        <Text textAlign=\"right\" mb=\"16px\" color=\"textSubtle\" fontSize=\"12px\" style={{ height: '18px' }}>\n          {account && t('Balance: %balance%', { balance: balanceDisplay })}\n        </Text>\n        <Slider\n          name=\"balance\"\n          min={0}\n          max={maxBalance}\n          value={valueAsBn.lte(maxBalance) ? valueAsBn.toNumber() : 0}\n          onValueChanged={handleSliderChange}\n          step={0.000000000000001}\n          valueLabel={account ? percentageDisplay : ''}\n          disabled={!account || isTxPending}\n          mb=\"4px\"\n        />\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n          {percentShortcuts.map((percent) => {\n            const handleClick = () => {\n              setValue(((percent / 100) * maxBalance).toString())\n            }\n\n            return (\n              <Button\n                key={percent}\n                scale=\"xs\"\n                variant=\"tertiary\"\n                onClick={handleClick}\n                disabled={!account || isTxPending}\n                style={{ flex: 1 }}\n              >\n                {`${percent}%`}\n              </Button>\n            )\n          })}\n          <Button scale=\"xs\" variant=\"tertiary\" onClick={setMax} disabled={!account || isTxPending}>\n            {t('Max')}\n          </Button>\n        </Flex>\n        <Box mb=\"8px\">\n          {account ? (\n            <Button\n              width=\"100%\"\n              disabled={!account || disabled}\n              onClick={handleEnterPosition}\n              isLoading={isTxPending}\n              endIcon={isTxPending ? <AutoRenewIcon color=\"currentColor\" spin /> : null}\n            >\n              {t(key)}\n            </Button>\n          ) : (\n            <UnlockButton width=\"100%\" />\n          )}\n        </Box>\n        <Text as=\"p\" fontSize=\"12px\" lineHeight={1} color=\"textSubtle\">\n          {t('You won’t be able to remove or change your position once you enter it.')}\n        </Text>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default SetPositionCard\n","import React, { useState } from 'react'\r\nimport {\r\n  ArrowBackIcon,\r\n  CardBody,\r\n  CardHeader,\r\n  Flex,\r\n  Heading,\r\n  IconButton,\r\n  Button,\r\n  IcebrkIcon,\r\n  Text,\r\n  Box,\r\n  AutoRenewIcon,\r\n} from '@pancakeswap/uikit'\r\nimport BigNumber from 'bignumber.js'\r\nimport { getDecimalAmount } from 'utils/formatBalance'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { useCake } from 'hooks/useContract'\r\nimport useToast from 'hooks/useToast'\r\nimport UnlockButton from 'components/UnlockButton'\r\nimport { getPredictionsWithTokenAddress } from 'utils/addressHelpers'\r\n\r\nimport useSwiper from '../../hooks/useSwiper'\r\nimport FlexRow from '../FlexRow'\r\nimport Card from './Card'\r\n\r\nconst predictionsWithTokensAddress = getPredictionsWithTokenAddress()\r\n\r\ninterface SetPositionCardProps {\r\n  onBack: () => void\r\n}\r\n\r\nconst ApproveCard: React.FC<SetPositionCardProps> = ({ onBack }) => {\r\n  const [isTxPending, setIsTxPending] = useState(false)\r\n  const { account } = useWeb3React()\r\n  const { swiper } = useSwiper()\r\n  const { t } = useTranslation()\r\n  const { toastError } = useToast()\r\n  const cakeContract = useCake()\r\n\r\n  // Clear value\r\n  const handleGoBack = () => {\r\n    onBack()\r\n  }\r\n\r\n  // Disable the swiper events to avoid conflicts\r\n  const handleMouseOver = () => {\r\n    swiper.keyboard.disable()\r\n    swiper.mousewheel.disable()\r\n    swiper.detachEvents()\r\n  }\r\n\r\n  const handleMouseOut = () => {\r\n    swiper.keyboard.enable()\r\n    swiper.mousewheel.enable()\r\n    swiper.attachEvents()\r\n  }\r\n\r\n  const handleApprove = () => {\r\n    const approveAmount = new BigNumber(1e30).toString()\r\n    // const decimalValue = getDecimalAmount(approveAmount)\r\n    cakeContract.methods.approve(predictionsWithTokensAddress, approveAmount)\r\n      .send({ from: account })\r\n      .once('sending', () => {\r\n        setIsTxPending(true)\r\n      })\r\n      .once('receipt', async () => {\r\n        setIsTxPending(false)\r\n        handleGoBack()\r\n      })\r\n      .once('error', (error) => {\r\n        const errorMsg = t('An error occurred during approval')\r\n\r\n        toastError(t('Error'), error?.message)\r\n        setIsTxPending(false)\r\n        console.error(errorMsg, error)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Card onMouseOver={handleMouseOver} onMouseOut={handleMouseOut}>\r\n      <CardHeader p=\"16px\">\r\n        <Flex alignItems=\"center\">\r\n          <IconButton variant=\"text\" scale=\"sm\" onClick={handleGoBack} mr=\"8px\">\r\n            <ArrowBackIcon width=\"24px\" />\r\n          </IconButton>\r\n          <FlexRow>\r\n            <Heading scale=\"md\">{t('Approve IceBrk-R')}</Heading>\r\n          </FlexRow>\r\n        </Flex>\r\n      </CardHeader>\r\n      <CardBody py=\"16px\">\r\n        <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\r\n          <Text textAlign=\"right\" color=\"textSubtle\">\r\n            {t('Approving Use Of')}:\r\n          </Text>\r\n          <Flex alignItems=\"center\">\r\n            <IcebrkIcon mr=\"4px  \" />\r\n            <Text bold textTransform=\"uppercase\">\r\n              ICEBRK\r\n            </Text>\r\n          </Flex>\r\n        </Flex>\r\n        <Box mb=\"8px\">\r\n          {account ? (\r\n            <Button\r\n              width=\"100%\"\r\n              disabled={!account || false}\r\n              onClick={handleApprove}\r\n              isLoading={isTxPending}\r\n              endIcon={isTxPending ? <AutoRenewIcon color=\"currentColor\" spin /> : null}\r\n            >\r\n                {t(\"Approve\")}\r\n            </Button>\r\n          ) : (\r\n            <UnlockButton width=\"100%\" />\r\n          )}\r\n        </Box>\r\n        <Text as=\"p\" fontSize=\"12px\" lineHeight={1} color=\"textSubtle\">\r\n          {t('You won’t be able to remove or change your position once you enter it.')}\r\n        </Text>\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ApproveCard\r\n","import React, { useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { CardBody, PlayCircleOutlineIcon, Button, useTooltip, ArrowUpIcon, ArrowDownIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useAppDispatch } from 'state'\nimport { BetPosition, Round } from 'state/types'\nimport { useBlock, useGetIntervalBlocks } from 'state/hooks'\nimport { markPositionAsEntered } from 'state/predictionsWithToken'\nimport useToast from 'hooks/useToast'\nimport { usePredictionAllowance } from 'hooks/useAllowance'\nimport CardFlip from '../CardFlip'\nimport { formatBnb, getBnbAmount } from '../../helpers'\nimport { RoundResultBox, PrizePoolRow } from '../RoundResult'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\nimport SetPositionCard from './SetPositionCard'\nimport ApproveCard from './ApproveCard'\n\ninterface OpenRoundCardProps {\n  round: Round\n  betAmount?: number\n  hasEnteredUp: boolean\n  hasEnteredDown: boolean\n  bullMultiplier: number\n  bearMultiplier: number\n}\n\ninterface State {\n  isSettingPosition: boolean\n  position: BetPosition\n}\n\nconst OpenRoundCard: React.FC<OpenRoundCardProps> = ({\n  round,\n  betAmount,\n  hasEnteredUp,\n  hasEnteredDown,\n  bullMultiplier,\n  bearMultiplier,\n}) => {\n  const allowance = usePredictionAllowance().toNumber()\n\n  const [state, setState] = useState<State>({\n    isSettingPosition: false,\n    position: BetPosition.BULL,\n  })\n  const { t } = useTranslation()\n  const interval = useGetIntervalBlocks()\n  const { toastSuccess } = useToast()\n  const { account } = useWeb3React()\n  const dispatch = useAppDispatch()\n  const { currentBlock } = useBlock()\n  const { isSettingPosition, position } = state\n  const isBufferPhase = currentBlock >= round.startBlock + interval\n  const positionDisplay = position === BetPosition.BULL ? t('Up').toUpperCase() : t('Down').toUpperCase()\n  const { targetRef, tooltipVisible, tooltip } = useTooltip(\n    <div style={{ whiteSpace: 'nowrap' }}>{`${formatBnb(betAmount)} BNB`}</div>,\n    { placement: 'top' },\n  )\n\n  // Bettable rounds do not have an lockBlock set so we approximate it by adding the block interval\n  // to the start block\n  const estimatedLockBlock = round.startBlock + interval\n\n  const getCanEnterPosition = () => {\n    if (hasEnteredUp || hasEnteredDown) {\n      return false\n    }\n\n    if (round.lockPrice !== null) {\n      return false\n    }\n\n    return true\n  }\n\n  const canEnterPosition = getCanEnterPosition()\n\n  const handleBack = () =>\n    setState((prevState) => ({\n      ...prevState,\n      isSettingPosition: false,\n    }))\n\n  const handleSetPosition = (newPosition: BetPosition) => {\n    setState((prevState) => ({\n      ...prevState,\n      isSettingPosition: true,\n      position: newPosition,\n    }))\n  }\n\n  const togglePosition = () => {\n    setState((prevState) => ({\n      ...prevState,\n      position: prevState.position === BetPosition.BULL ? BetPosition.BEAR : BetPosition.BULL,\n    }))\n  }\n\n  const handleSuccess = async (decimalValue: BigNumber, hash: string) => {\n    // Optimistically set the user bet so we see the entered position immediately.\n    dispatch(\n      markPositionAsEntered({\n        account,\n        roundId: round.id,\n        bet: {\n          hash,\n          round,\n          position,\n          amount: getBnbAmount(decimalValue).toNumber(),\n          claimed: false,\n        },\n      }),\n    )\n\n    handleBack()\n\n    toastSuccess(\n      t('Success!'),\n      t('%position% position entered', {\n        position: positionDisplay,\n      }),\n    )\n  }\n\n  const getPositionEnteredIcon = () => {\n    return position === BetPosition.BULL ? <ArrowUpIcon color=\"currentColor\" /> : <ArrowDownIcon color=\"currentColor\" />\n  }\n\n  return (\n    <CardFlip isFlipped={isSettingPosition} height=\"404px\">\n      <Card>\n        <CardHeader\n          status=\"next\"\n          epoch={round.epoch}\n          blockNumber={estimatedLockBlock}\n          icon={<PlayCircleOutlineIcon color=\"white\" mr=\"4px\" width=\"21px\" />}\n          title={t('Next')}\n        />\n        <CardBody p=\"16px\">\n          <MultiplierArrow betAmount={betAmount} multiplier={bullMultiplier} hasEntered={hasEnteredUp} />\n          <RoundResultBox isNext={canEnterPosition} isLive={!canEnterPosition}>\n            {canEnterPosition ? (\n              <>\n                <PrizePoolRow totalAmount={round.totalAmount} mb=\"8px\" />\n                <Button\n                  variant=\"success\"\n                  width=\"100%\"\n                  onClick={() => handleSetPosition(BetPosition.BULL)}\n                  mb=\"4px\"\n                  disabled={!canEnterPosition || isBufferPhase}\n                >\n                  {t('Enter UP')}\n                </Button>\n                <Button\n                  variant=\"danger\"\n                  width=\"100%\"\n                  onClick={() => handleSetPosition(BetPosition.BEAR)}\n                  disabled={!canEnterPosition || isBufferPhase}\n                >\n                  {t('Enter DOWN')}\n                </Button>\n              </>\n            ) : (\n              <>\n                <div ref={targetRef}>\n                  <Button disabled startIcon={getPositionEnteredIcon()} width=\"100%\" mb=\"8px\">\n                    {t('%position% Entered', { position: positionDisplay })}\n                  </Button>\n                </div>\n                <PrizePoolRow totalAmount={round.totalAmount} />\n                {tooltipVisible && tooltip}\n              </>\n            )}\n          </RoundResultBox>\n          <MultiplierArrow\n            betAmount={betAmount}\n            multiplier={bearMultiplier}\n            betPosition={BetPosition.BEAR}\n            hasEntered={hasEnteredDown}\n          />\n        </CardBody>\n      </Card>\n      {allowance < 1e24 ? \n      <ApproveCard\n        onBack={handleBack}\n      />\n      :\n      <SetPositionCard\n        onBack={handleBack}\n        onSuccess={handleSuccess}\n        position={position}\n        togglePosition={togglePosition}\n      />\n      }\n    </CardFlip>\n  )\n}\n\nexport default OpenRoundCard\n","import { useGetCurrentRoundBlockNumber, useGetIntervalBlocks } from 'state/hooks'\nimport useBlockCountdown from 'hooks/useGetBlockCountdown'\n\n/**\n * Returns a countdown in seconds of a given block\n */\nconst useRoundCountdown = (intervalsToAdd = 1) => {\n  const interval = useGetIntervalBlocks()\n  const currentRoundBlockNum = useGetCurrentRoundBlockNumber()\n  const blocksToAdd = intervalsToAdd * interval\n  const seconds = useBlockCountdown(currentRoundBlockNum + blocksToAdd)\n\n  return seconds\n}\n\nexport default useRoundCountdown\n","import React from 'react'\nimport { CardBody, Text, WaitIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Round, BetPosition } from 'state/types'\nimport { useGetCurrentEpoch, useGetTotalIntervalBlocks } from 'state/hooks'\nimport { formatRoundTime } from '../../helpers'\nimport useRoundCountdown from '../../hooks/useRoundCountdown'\nimport { RoundResultBox } from '../RoundResult'\nimport MultiplierArrow from './MultiplierArrow'\nimport Card from './Card'\nimport CardHeader from './CardHeader'\n\ninterface SoonRoundCardProps {\n  round: Round\n}\n\nconst SoonRoundCard: React.FC<SoonRoundCardProps> = ({ round }) => {\n  const { t } = useTranslation()\n  const interval = useGetTotalIntervalBlocks()\n  const currentEpoch = useGetCurrentEpoch()\n  const estimatedEndBlock = round.startBlock + interval\n  const seconds = useRoundCountdown(round.epoch - currentEpoch + 1)\n  const countdown = formatRoundTime(seconds)\n\n  return (\n    <Card>\n      <CardHeader\n        status=\"soon\"\n        icon={<WaitIcon mr=\"4px\" width=\"21px\" />}\n        title={t('Later')}\n        epoch={round.epoch}\n        blockNumber={estimatedEndBlock}\n      />\n      <CardBody p=\"16px\">\n        <MultiplierArrow isDisabled />\n        <RoundResultBox>\n          <Text textAlign=\"center\">\n            <Text bold>{t('Entry starts')}</Text>\n            <Text fontSize=\"24px\" bold>\n              {`~${countdown}`}\n            </Text>\n          </Text>\n        </RoundResultBox>\n        <MultiplierArrow betPosition={BetPosition.BEAR} isDisabled />\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default SoonRoundCard\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useGetBetByRoundId, useGetCurrentEpoch } from 'state/hooks'\nimport { BetPosition, Round } from 'state/types'\nimport { getMultiplier } from '../../helpers'\nimport ExpiredRoundCard from './ExpiredRoundCard'\nimport LiveRoundCard from './LiveRoundCard'\nimport OpenRoundCard from './OpenRoundCard'\nimport SoonRoundCard from './SoonRoundCard'\n\ninterface RoundCardProps {\n  round: Round\n}\n\nconst RoundCard: React.FC<RoundCardProps> = ({ round }) => {\n  const { id, epoch, lockPrice, closePrice, totalAmount, bullAmount, bearAmount } = round\n  const currentEpoch = useGetCurrentEpoch()\n  const { account } = useWeb3React()\n  const bet = useGetBetByRoundId(account, id)\n  const hasEntered = bet !== null\n  const hasEnteredUp = hasEntered && bet.position === BetPosition.BULL\n  const hasEnteredDown = hasEntered && bet.position === BetPosition.BEAR\n  const bullMultiplier = getMultiplier(totalAmount, bullAmount)\n  const bearMultiplier = getMultiplier(totalAmount, bearAmount)\n\n  // Next (open) round\n  if (epoch === currentEpoch && lockPrice === null) {\n    return (\n      <OpenRoundCard\n        round={round}\n        hasEnteredDown={hasEnteredDown}\n        hasEnteredUp={hasEnteredUp}\n        betAmount={bet?.amount}\n        bullMultiplier={bullMultiplier}\n        bearMultiplier={bearMultiplier}\n      />\n    )\n  }\n\n  // Live round\n  if (closePrice === null && epoch === currentEpoch - 1) {\n    return (\n      <LiveRoundCard\n        betAmount={bet?.amount}\n        hasEnteredDown={hasEnteredDown}\n        hasEnteredUp={hasEnteredUp}\n        round={round}\n        bullMultiplier={bullMultiplier}\n        bearMultiplier={bearMultiplier}\n      />\n    )\n  }\n\n  // Fake future rounds\n  if (epoch > currentEpoch) {\n    return <SoonRoundCard round={round} />\n  }\n\n  // Past rounds\n  return (\n    <ExpiredRoundCard\n      round={round}\n      hasEnteredDown={hasEnteredDown}\n      hasEnteredUp={hasEnteredUp}\n      betAmount={bet?.amount}\n      bullMultiplier={bullMultiplier}\n      bearMultiplier={bearMultiplier}\n    />\n  )\n}\n\nexport default RoundCard\n","import React, { useEffect } from 'react'\nimport { useCountUp } from 'react-countup'\nimport styled from 'styled-components'\nimport { BnbUsdtPairTokenIcon, Box, Card, PocketWatchIcon, Text } from '@pancakeswap/uikit'\nimport { useGetLastOraclePrice } from 'state/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatRoundTime } from '../helpers'\nimport useRoundCountdown from '../hooks/useRoundCountdown'\n\nconst Token = styled(Box)`\n  margin-top: -24px;\n  position: absolute;\n  top: 50%;\n  z-index: 30;\n\n  & > svg {\n    height: 48px;\n    width: 48px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin-top: -32px;\n\n    & > svg {\n      height: 64px;\n      width: 64px;\n    }\n  }\n`\n\nconst Title = styled(Text)`\n  font-size: 16px;\n  line-height: 21px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    font-size: 20px;\n    line-height: 22px;\n  }\n`\n\nconst Price = styled(Text)`\n  height: 18px;\n  justify-self: start;\n  width: 60px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    text-align: center;\n  }\n`\n\nconst Interval = styled(Text)`\n  ${({ theme }) => theme.mediaQueries.lg} {\n    text-align: center;\n    width: 32px;\n  }\n`\n\nconst Label = styled(Card)<{ dir: 'left' | 'right' }>`\n  align-items: ${({ dir }) => (dir === 'right' ? 'flex-end' : 'flex-start')};\n  border-radius: ${({ dir }) => (dir === 'right' ? '8px 8px 8px 24px' : '8px 8px 24px 8px')};\n  display: flex;\n  flex-direction: column;\n  overflow: initial;\n  padding: ${({ dir }) => (dir === 'right' ? '0 28px 0 8px' : '0 8px 0 24px')};\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    align-items: center;\n    border-radius: 16px;\n    flex-direction: row;\n    padding: ${({ dir }) => (dir === 'right' ? '8px 40px 8px 8px' : '8px 8px 8px 40px')};\n  }\n`\n\nexport const PricePairLabel: React.FC = () => {\n  const price = useGetLastOraclePrice()\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end: price.toNumber(),\n    duration: 1,\n    decimals: 3,\n  })\n\n  useEffect(() => {\n    update(price.toNumber())\n  }, [price, update])\n\n  return (\n    <Box pl=\"24px\" position=\"relative\" display=\"inline-block\">\n      <Token left={0}>\n        <BnbUsdtPairTokenIcon />\n      </Token>\n      <Label dir=\"left\">\n        <Title bold textTransform=\"uppercase\">\n          BNBUSDT\n        </Title>\n        <Price fontSize=\"12px\">{`$${countUp}`}</Price>\n      </Label>\n    </Box>\n  )\n}\n\ninterface TimerLabelProps {\n  interval: string\n}\n\nexport const TimerLabel: React.FC<TimerLabelProps> = ({ interval }) => {\n  const seconds = useRoundCountdown()\n  const countdown = formatRoundTime(seconds)\n  const { t } = useTranslation()\n\n  return (\n    <Box pr=\"24px\" position=\"relative\">\n      <Label dir=\"right\">\n        <Title bold color=\"secondary\">\n          {seconds === 0 ? t('Closing') : countdown}\n        </Title>\n        <Interval fontSize=\"12px\">{interval}</Interval>\n      </Label>\n      <Token right={0}>\n        <PocketWatchIcon />\n      </Token>\n    </Box>\n  )\n}\n","import React from 'react'\nimport { ArrowBackIcon, ArrowForwardIcon, BunnyCardsIcon, Card, IconButton } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { useGetCurrentEpoch, useGetSortedRounds } from 'state/hooks'\nimport useSwiper from '../hooks/useSwiper'\n\nconst StyledPrevNextNav = styled(Card)`\n  align-items: center;\n  display: none;\n  justify-content: space-between;\n  overflow: initial;\n  position: relative;\n  width: 128px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: flex;\n  }\n`\n\nconst Icon = styled.div`\n  cursor: pointer;\n  left: 50%;\n  margin-left: -32px;\n  position: absolute;\n`\n\nconst PrevNextNav = () => {\n  const { swiper } = useSwiper()\n  const currentEpoch = useGetCurrentEpoch()\n  const rounds = useGetSortedRounds()\n\n  const handlePrevSlide = () => {\n    swiper.slidePrev()\n  }\n\n  const handleNextSlide = () => {\n    swiper.slideNext()\n  }\n\n  const handleSlideToLive = () => {\n    const currentEpochIndex = rounds.findIndex((round) => round.epoch === currentEpoch)\n\n    swiper.slideTo(currentEpochIndex - 1)\n    swiper.update()\n  }\n\n  return (\n    <StyledPrevNextNav>\n      <IconButton variant=\"text\" scale=\"sm\" onClick={handlePrevSlide}>\n        <ArrowBackIcon color=\"primary\" width=\"24px\" />\n      </IconButton>\n      <Icon onClick={handleSlideToLive}>\n        <BunnyCardsIcon width=\"64px\" />\n      </Icon>\n      <IconButton variant=\"text\" scale=\"sm\" onClick={handleNextSlide}>\n        <ArrowForwardIcon color=\"primary\" width=\"24px\" />\n      </IconButton>\n    </StyledPrevNextNav>\n  )\n}\n\nexport default PrevNextNav\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { AutoRenewIcon, HistoryIcon, IconButton } from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { setHistoryPaneState } from 'state/predictionsWithToken'\nimport { useGetIsFetchingHistory } from 'state/hooks'\n\nconst HistoryButton = () => {\n  const isFetchingHistory = useGetIsFetchingHistory()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const handleClick = () => {\n    dispatch(setHistoryPaneState(true))\n  }\n\n  return (\n    <IconButton variant=\"subtle\" ml=\"8px\" onClick={handleClick} isLoading={isFetchingHistory} disabled={!account}>\n      {isFetchingHistory ? <AutoRenewIcon spin color=\"white\" /> : <HistoryIcon width=\"24px\" color=\"white\" />}\n    </IconButton>\n  )\n}\n\nexport default HistoryButton\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex, HelpIcon, IconButton } from '@pancakeswap/uikit'\nimport FlexRow from './FlexRow'\nimport { PricePairLabel, TimerLabel } from './Label'\nimport PrevNextNav from './PrevNextNav'\nimport HistoryButton from './HistoryButton'\n\nconst SetCol = styled.div`\n  flex: none;\n  width: auto;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    width: 270px;\n  }\n`\n\nconst HelpButtonWrapper = styled.div`\n  order: 1;\n  margin: 0 8px 0 0;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    order: 2;\n    margin: 0 0 0 8px;\n  }\n`\n\nconst TimerLabelWrapper = styled.div`\n  order: 2;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    order: 1;\n  }\n`\n\nconst HistoryButtonWrapper = styled.div`\n  display: none;\n  order: 3;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: initial;\n  }\n`\n\nconst Menu = () => {\n  return (\n    <FlexRow alignItems=\"center\" p=\"16px\">\n      <SetCol>\n        <PricePairLabel />\n      </SetCol>\n      <FlexRow justifyContent=\"center\">\n        <PrevNextNav />\n      </FlexRow>\n      <SetCol>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <TimerLabelWrapper>\n            <TimerLabel interval=\"60m\" />\n          </TimerLabelWrapper>\n          <HelpButtonWrapper>\n            <IconButton\n              variant=\"subtle\"\n              as=\"a\"\n              href=\"https://docs.pancakeswap.finance/products/prediction\"\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n            >\n              <HelpIcon width=\"24px\" color=\"white\" />\n            </IconButton>\n          </HelpButtonWrapper>\n          <HistoryButtonWrapper>\n            <HistoryButton />\n          </HistoryButtonWrapper>\n        </Flex>\n      </SetCol>\n    </FlexRow>\n  )\n}\n\nexport default Menu\n","import { useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport usePreviousValue from 'hooks/usePreviousValue'\nimport { useAppDispatch } from 'state'\nimport { useGetCurrentEpoch, useGetSortedRounds } from 'state/hooks'\nimport { fetchCurrentBets } from 'state/predictionsWithToken'\nimport useSwiper from './useSwiper'\n\n/**\n * Hooks for actions to be performed when the round changes\n */\nconst useOnNextRound = () => {\n  const currentEpoch = useGetCurrentEpoch()\n  const rounds = useGetSortedRounds()\n  const { account } = useWeb3React()\n  const previousEpoch = usePreviousValue(currentEpoch)\n  const { swiper } = useSwiper()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    if (swiper && currentEpoch !== undefined && previousEpoch !== undefined && currentEpoch !== previousEpoch) {\n      const currentEpochIndex = rounds.findIndex((round) => round.epoch === currentEpoch)\n\n      // Fetch data on current unclaimed bets\n      dispatch(fetchCurrentBets({ account, roundIds: rounds.map((round) => round.id) }))\n\n      // Slide to the current LIVE round which is always the one before the current round\n      swiper.slideTo(currentEpochIndex - 1)\n      swiper.update()\n    }\n  }, [previousEpoch, currentEpoch, rounds, swiper, account, dispatch])\n}\n\nexport default useOnNextRound\n","import React from 'react'\nimport styled from 'styled-components'\nimport SwiperCore, { Keyboard, Mousewheel } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport { Box } from '@pancakeswap/uikit'\nimport { useGetSortedRounds } from 'state/hooks'\nimport 'swiper/swiper.min.css'\nimport RoundCard from './components/RoundCard'\nimport Menu from './components/Menu'\nimport useSwiper from './hooks/useSwiper'\nimport useOnNextRound from './hooks/useOnNextRound'\n\nSwiperCore.use([Keyboard, Mousewheel])\n\nconst StyledSwiper = styled.div`\n  .swiper-wrapper {\n    align-items: center;\n    display: flex;\n  }\n\n  .swiper-slide {\n    width: 320px;\n  }\n`\nconst Positions: React.FC = () => {\n  const { setSwiper } = useSwiper()\n  const rounds = useGetSortedRounds()\n  const initialIndex = Math.floor(rounds.length / 2)\n\n  useOnNextRound()\n\n  return (\n    <Box overflow=\"hidden\">\n      <Menu />\n      <StyledSwiper>\n        <Swiper\n          initialSlide={initialIndex}\n          onSwiper={setSwiper}\n          spaceBetween={16}\n          slidesPerView=\"auto\"\n          freeMode\n          freeModeSticky\n          centeredSlides\n          mousewheel\n          keyboard\n          resizeObserver\n        >\n          {rounds.map((round) => (\n            <SwiperSlide key={round.id}>\n              <RoundCard round={round} />\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      </StyledSwiper>\n    </Box>\n  )\n}\n\nexport default Positions\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Box, Flex } from '@pancakeswap/uikit'\nimport { useGetPredictionsStatus, useIsChartPaneOpen, useIsHistoryPaneOpen } from 'state/hooks'\nimport { PredictionStatus } from 'state/types'\nimport MobileMenu from './components/MobileMenu'\nimport History from './History'\nimport Positions from './Positions'\nimport Chart from './Chart'\nimport { ErrorNotification, PauseNotification } from './components/Notification'\n\nenum PageView {\n  POSITIONS = 'positions',\n  HISTORY = 'history',\n  CHART = 'chart',\n}\n\nconst StyledMobile = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 100%;\n\n  ${({ theme }) => theme.mediaQueries.xl} {\n    display: none;\n  }\n`\n\nconst View = styled.div<{ isVisible: boolean }>`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  visibility: ${({ isVisible }) => (isVisible ? 'visible' : 'hidden')};\n`\n\nconst getView = (isHistoryPaneOpen: boolean, isChartPaneOpen: boolean): PageView => {\n  if (isHistoryPaneOpen) {\n    return PageView.HISTORY\n  }\n\n  if (isChartPaneOpen) {\n    return PageView.CHART\n  }\n\n  return PageView.POSITIONS\n}\n\nconst Mobile: React.FC = () => {\n  const isHistoryPaneOpen = useIsHistoryPaneOpen()\n  const isChartPaneOpen = useIsChartPaneOpen()\n  const view = getView(isHistoryPaneOpen, isChartPaneOpen)\n  const status = useGetPredictionsStatus()\n\n  return (\n    <StyledMobile>\n      <Box height=\"100%\" overflow=\"hidden\" position=\"relative\">\n        <View isVisible={view === PageView.POSITIONS}>\n          <Flex alignItems=\"center\" height=\"100%\">\n            {status === PredictionStatus.ERROR && <ErrorNotification />}\n            {status === PredictionStatus.PAUSED && <PauseNotification />}\n            {status === PredictionStatus.LIVE && <Positions />}\n          </Flex>\n        </View>\n        <View isVisible={view === PageView.CHART}>\n          <Chart />\n        </View>\n        <View isVisible={view === PageView.HISTORY}>\n          <History />\n        </View>\n      </Box>\n      <MobileMenu />\n    </StyledMobile>\n  )\n}\n\nexport default Mobile\n","import React, { useEffect, useRef } from 'react'\nimport styled from 'styled-components'\nimport Split from 'split-grid'\nimport { ArrowDownIcon, Button, ChartIcon } from '@pancakeswap/uikit'\nimport debounce from 'lodash/debounce'\nimport delay from 'lodash/delay'\nimport { useAppDispatch } from 'state'\nimport { useGetPredictionsStatus, useIsChartPaneOpen, useIsHistoryPaneOpen } from 'state/hooks'\nimport { setChartPaneState } from 'state/predictionsWithToken'\nimport { PredictionStatus } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport TradingView from './components/TradingView'\nimport { ErrorNotification, PauseNotification } from './components/Notification'\nimport History from './History'\nimport Positions from './Positions'\n\n// The value to set the chart when the user clicks the chart tab at the bottom\nconst GRID_TEMPLATE_ROW = '1.2fr 12px .8fr'\n\nconst ExpandChartButton = styled(Button)`\n  background-color: ${({ theme }) => theme.card.background};\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  bottom: 12px;\n  color: ${({ theme }) => theme.colors.text};\n  display: none;\n  left: 32px;\n  position: absolute;\n  z-index: 50;\n\n  &:hover:not(:disabled):not(.pancake-button--disabled):not(.pancake-button--disabled):not(:active) {\n    background-color: ${({ theme }) => theme.card.background};\n    opacity: 1;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: inline-flex;\n  }\n`\n\nconst SplitWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr 12px 0;\n  flex: 1;\n  overflow: hidden;\n`\n\nconst ChartPane = styled.div`\n  overflow: hidden;\n  position: relative;\n`\n\nconst HistoryPane = styled.div<{ isHistoryPaneOpen: boolean }>`\n  flex: none;\n  overflow: hidden;\n  transition: width 200ms ease-in-out;\n  width: ${({ isHistoryPaneOpen }) => (isHistoryPaneOpen ? '384px' : 0)};\n`\n\nconst StyledDesktop = styled.div`\n  display: none;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: flex;\n    height: 100%;\n  }\n`\n\nconst PositionPane = styled.div`\n  align-items: center;\n  display: flex;\n  max-width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  & > div {\n    flex: 1;\n    overflow: hidden;\n  }\n`\n\nconst Gutter = styled.div`\n  background: ${({ theme }) => theme.colors.dropdown};\n  cursor: row-resize;\n  height: 12px;\n  position: relative;\n\n  &:before {\n    background-color: ${({ theme }) => theme.colors.textSubtle};\n    border-radius: 8px;\n    content: '';\n    height: 4px;\n    left: 50%;\n    margin-left: -32px;\n    position: absolute;\n    top: 4px;\n    width: 64px;\n  }\n`\n\nconst Desktop: React.FC = () => {\n  const splitWrapperRef = useRef<HTMLDivElement>()\n  const chartRef = useRef<HTMLDivElement>()\n  const gutterRef = useRef<HTMLDivElement>()\n  const isHistoryPaneOpen = useIsHistoryPaneOpen()\n  const isChartPaneOpen = useIsChartPaneOpen()\n  const dispatch = useAppDispatch()\n  const { t } = useTranslation()\n  const status = useGetPredictionsStatus()\n\n  const toggleChartPane = () => {\n    const newChartPaneState = !isChartPaneOpen\n\n    if (newChartPaneState) {\n      splitWrapperRef.current.style.transition = 'grid-template-rows 150ms'\n      splitWrapperRef.current.style.gridTemplateRows = GRID_TEMPLATE_ROW\n\n      // Purely comedic: We only want to animate if we are clicking the open chart button\n      // If we keep the transition on the resizing becomes very choppy\n      delay(() => {\n        splitWrapperRef.current.style.transition = ''\n      }, 150)\n    }\n\n    dispatch(setChartPaneState(newChartPaneState))\n  }\n\n  useEffect(() => {\n    const threshold = 100\n    const handleDrag = debounce(() => {\n      const { height } = chartRef.current.getBoundingClientRect()\n\n      // If the height of the chart pane goes below the \"snapOffset\" threshold mark the chart pane as closed\n      dispatch(setChartPaneState(height > threshold))\n    }, 50)\n\n    const split = Split({\n      dragInterval: 1,\n      snapOffset: threshold,\n      onDrag: handleDrag,\n      rowGutters: [\n        {\n          track: 1,\n          element: gutterRef.current,\n        },\n      ],\n    })\n\n    return () => {\n      split.destroy()\n    }\n  }, [gutterRef, chartRef, dispatch])\n\n  return (\n    <>\n      {!isChartPaneOpen && (\n        <ExpandChartButton\n          variant=\"tertiary\"\n          scale=\"sm\"\n          startIcon={isChartPaneOpen ? <ArrowDownIcon /> : <ChartIcon />}\n          onClick={toggleChartPane}\n        >\n          {isChartPaneOpen ? t('Close') : t('Charts')}\n        </ExpandChartButton>\n      )}\n      <StyledDesktop>\n        <SplitWrapper ref={splitWrapperRef}>\n          <PositionPane>\n            {status === PredictionStatus.ERROR && <ErrorNotification />}\n            {status === PredictionStatus.PAUSED && <PauseNotification />}\n            {status === PredictionStatus.LIVE && (\n              <div>\n                <Positions />\n              </div>\n            )}\n          </PositionPane>\n          <Gutter ref={gutterRef} />\n          <ChartPane ref={chartRef}>\n            <TradingView />\n          </ChartPane>\n        </SplitWrapper>\n        <HistoryPane isHistoryPaneOpen={isHistoryPaneOpen}>\n          <History />\n        </HistoryPane>\n      </StyledDesktop>\n    </>\n  )\n}\n\nexport default Desktop\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  ArrowBackIcon,\n  ArrowForwardIcon,\n  ButtonMenu,\n  ButtonMenuItem,\n  Cards,\n  ChartIcon,\n  HistoryIcon,\n  IconButton,\n} from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { PredictionStatus } from 'state/types'\nimport { useGetPredictionsStatus, useIsChartPaneOpen, useIsHistoryPaneOpen } from 'state/hooks'\nimport { setChartPaneState, setHistoryPaneState } from 'state/predictionsWithToken'\nimport useSwiper from '../hooks/useSwiper'\n\nconst ButtonNav = styled.div`\n  flex: none;\n`\n\nconst TabNav = styled.div`\n  flex: 1;\n  text-align: center;\n`\n\nconst StyledMobileMenu = styled.div`\n  align-items: center;\n  background-color: ${({ theme }) => theme.card.background};\n  display: flex;\n  flex: none;\n  height: 64px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: none;\n  }\n`\n\nconst getActiveIndex = (isHistoryOpen: boolean, isChartOpen: boolean) => {\n  if (isHistoryOpen) {\n    return 2\n  }\n\n  if (isChartOpen) {\n    return 1\n  }\n\n  return 0\n}\n\nconst MobileMenu = () => {\n  const { swiper } = useSwiper()\n  const isHistoryOpen = useIsHistoryPaneOpen()\n  const isChartOpen = useIsChartPaneOpen()\n  const status = useGetPredictionsStatus()\n  const activeIndex = getActiveIndex(isHistoryOpen, isChartOpen)\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const handleItemClick = (index: number) => {\n    switch (index) {\n      case 2:\n        dispatch(setHistoryPaneState(true))\n        break\n      case 1:\n        dispatch(setChartPaneState(true))\n        dispatch(setHistoryPaneState(false))\n        break\n      case 0:\n      default:\n        dispatch(setHistoryPaneState(false))\n        dispatch(setChartPaneState(false))\n    }\n  }\n\n  return (\n    <StyledMobileMenu>\n      <ButtonNav>\n        <IconButton variant=\"text\" onClick={() => swiper.slidePrev()} disabled={status !== PredictionStatus.LIVE}>\n          <ArrowBackIcon width=\"24px\" color=\"primary\" />\n        </IconButton>\n      </ButtonNav>\n      <TabNav>\n        <ButtonMenu activeIndex={activeIndex} scale=\"sm\" variant=\"subtle\" onItemClick={handleItemClick}>\n          <ButtonMenuItem>\n            <Cards color=\"currentColor\" />\n          </ButtonMenuItem>\n          <ButtonMenuItem>\n            <ChartIcon color=\"currentColor\" />\n          </ButtonMenuItem>\n          <ButtonMenuItem disabled={!account}>\n            <HistoryIcon color=\"currentColor\" />\n          </ButtonMenuItem>\n        </ButtonMenu>\n      </TabNav>\n      <ButtonNav>\n        <IconButton variant=\"text\" onClick={() => swiper.slideNext()} disabled={status !== PredictionStatus.LIVE}>\n          <ArrowForwardIcon width=\"24px\" color=\"primary\" />\n        </IconButton>\n      </ButtonNav>\n    </StyledMobileMenu>\n  )\n}\n\nexport default MobileMenu\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex } from '@pancakeswap/uikit'\nimport Menu from './components/Menu'\nimport TradingView from './components/TradingView'\n\nconst MenuWrapper = styled.div`\n  flex: none;\n`\n\nconst ChartWrapper = styled.div`\n  flex: 1;\n  height: 100%;\n`\n\nconst Chart = () => {\n  return (\n    <Flex flexDirection=\"column\" height=\"100%\">\n      <MenuWrapper>\n        <Menu />\n      </MenuWrapper>\n      <ChartWrapper>\n        <TradingView />\n      </ChartWrapper>\n    </Flex>\n  )\n}\n\nexport default Chart\n","import React, { useState } from 'react'\nimport {\n  ModalContainer,\n  ModalBody,\n  Text,\n  Button,\n  Flex,\n  InjectedModalProps,\n  Checkbox,\n  ModalHeader,\n  ModalTitle,\n  Heading,\n  Box,\n} from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\n\ninterface RiskDisclaimerProps extends InjectedModalProps {\n  onSuccess: () => void\n}\n\nconst GradientModalHeader = styled(ModalHeader)`\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\n  padding-bottom: 24px;\n  padding-top: 24px;\n`\n\nconst RiskDisclaimer: React.FC<RiskDisclaimerProps> = ({ onSuccess, onDismiss }) => {\n  const [acknowledgeRisk, setAcknowledgeRisk] = useState(false)\n  const [acknowledgeBeta, setAcknowledgeBeta] = useState(false)\n  const { t } = useTranslation()\n\n  const handleSetAcknowledgeRisk = () => {\n    setAcknowledgeRisk(!acknowledgeRisk)\n  }\n\n  const handleSetAcknowledgeBeta = () => {\n    setAcknowledgeBeta(!acknowledgeBeta)\n  }\n\n  const handleConfirm = () => {\n    onSuccess()\n    onDismiss()\n  }\n\n  return (\n    <ModalContainer title={t('Welcome!')} minWidth=\"320px\">\n      <GradientModalHeader>\n        <ModalTitle>\n          <Heading scale=\"lg\">{t('Welcome!')}</Heading>\n        </ModalTitle>\n      </GradientModalHeader>\n      <ModalBody p=\"24px\" maxWidth=\"400px\">\n        <Box maxHeight=\"300px\" overflowY=\"auto\">\n          <Heading as=\"h3\" mb=\"24px\">\n            {t('This Product is in beta.')}\n          </Heading>\n\n          <Text as=\"p\" color=\"textSubtle\" mb=\"24px\">\n            {t('Once you enter a position, you cannot cancel or adjust it.')}\n          </Text>\n\n          <label htmlFor=\"checkbox\" style={{ display: 'block', cursor: 'pointer', marginBottom: '24px' }}>\n            <Flex alignItems=\"center\">\n              <div style={{ flex: 'none' }}>\n                <Checkbox id=\"checkbox\" scale=\"sm\" checked={acknowledgeRisk} onChange={handleSetAcknowledgeRisk} />\n              </div>\n              <Text ml=\"8px\">\n                {t(\n                  'I understand that I am using this product at my own risk. Any losses incurred due to my actions are my own responsibility.',\n                )}\n              </Text>\n            </Flex>\n          </label>\n          <label htmlFor=\"checkbox1\" style={{ display: 'block', cursor: 'pointer', marginBottom: '24px' }}>\n            <Flex alignItems=\"center\">\n              <div style={{ flex: 'none' }}>\n                <Checkbox id=\"checkbox1\" scale=\"sm\" checked={acknowledgeBeta} onChange={handleSetAcknowledgeBeta} />\n              </div>\n              <Text ml=\"8px\">\n                {t('I understand that this product is still in beta. I am participating at my own risk')}\n              </Text>\n            </Flex>\n          </label>\n        </Box>\n        <Button width=\"100%\" onClick={handleConfirm} disabled={!acknowledgeRisk || !acknowledgeBeta}>\n          {t('Continue')}\n        </Button>\n      </ModalBody>\n    </ModalContainer>\n  )\n}\n\nexport default RiskDisclaimer\n","import React from 'react'\nimport { ModalContainer, ModalBody, Text, Button, InjectedModalProps, LinkExternal, Flex } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\n\ninterface ChartDisclaimerProps extends InjectedModalProps {\n  onSuccess: () => void\n}\n\nconst ChartDisclaimer: React.FC<ChartDisclaimerProps> = ({ onSuccess, onDismiss }) => {\n  const { t } = useTranslation()\n\n  const handleConfirm = () => {\n    onSuccess()\n    onDismiss()\n  }\n\n  return (\n    <ModalContainer title={t('Welcome!')} minWidth=\"320px\">\n      <ModalBody p=\"24px\" maxWidth=\"400px\">\n        <Text as=\"p\" mb=\"16px\">\n          {t('Charts are provided for reference only and do not reflect rounds’ final outcome.')}\n        </Text>\n        <Text as=\"p\" mb=\"16px\">\n          {t('Please refer to the prices shown on the cards for the final outcome.')}\n        </Text>\n        <Button width=\"100%\" onClick={handleConfirm} mb=\"16px\">\n          {t('I understand')}\n        </Button>\n        <Flex justifyContent=\"center\" alignItems=\"center\">\n          <LinkExternal\n            href=\"https://docs.pancakeswap.finance/products/prediction/prediction-faq#what-are-you-using-for-your-price-feed\"\n            external\n          >\n            {t('Learn More')}\n          </LinkExternal>\n        </Flex>\n      </ModalBody>\n    </ModalContainer>\n  )\n}\n\nexport default ChartDisclaimer\n","import React, { useEffect, useRef } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { Helmet } from 'react-helmet-async'\nimport { useMatchBreakpoints, useModal } from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { useGetPredictionsStatus, useInitialBlock, useIsChartPaneOpen } from 'state/hooks'\nimport {\n  getMarketData,\n  getStaticPredictionsData,\n  makeFutureRoundResponse,\n  makeRoundData,\n  transformRoundResponse,\n} from 'state/predictionsWithToken/helpers'\nimport { fetchCurrentBets, initialize, setPredictionStatus } from 'state/predictionsWithToken'\nimport { HistoryFilter, PredictionsState, PredictionStatus } from 'state/types'\nimport usePersistState from 'hooks/usePersistState'\nimport PageLoader from 'components/PageLoader'\nimport usePollOraclePrice from './hooks/usePollOraclePrice'\nimport usePollRoundData from './hooks/usePollRoundData'\nimport Container from './components/Container'\nimport CollectWinningsPopup from './components/CollectWinningsPopup'\nimport SwiperProvider from './context/SwiperProvider'\nimport Desktop from './Desktop'\nimport Mobile from './Mobile'\nimport RiskDisclaimer from './components/RiskDisclaimer'\nimport ChartDisclaimer from './components/ChartDisclaimer'\n\nconst FUTURE_ROUND_COUNT = 2 // the number of rounds in the future to show\n\nconst Predictions = () => {\n  const { isXl } = useMatchBreakpoints()\n  const [hasAcceptedRisk, setHasAcceptedRisk] = usePersistState(false, 'pancake_predictions_accepted_risk')\n  const [hasAcceptedChart, setHasAcceptedChart] = usePersistState(false, 'pancake_predictions_chart')\n  const { account } = useWeb3React()\n  const status = useGetPredictionsStatus()\n  const isChartPaneOpen = useIsChartPaneOpen()\n  const dispatch = useAppDispatch()\n  const initialBlock = useInitialBlock()\n  const isDesktop = isXl\n  const handleAcceptRiskSuccess = () => setHasAcceptedRisk(true)\n  const handleAcceptChart = () => setHasAcceptedChart(true)\n  const [onPresentRiskDisclaimer] = useModal(<RiskDisclaimer onSuccess={handleAcceptRiskSuccess} />, false)\n  const [onPresentChartDisclaimer] = useModal(<ChartDisclaimer onSuccess={handleAcceptChart} />, false)\n\n  // TODO: memoize modal's handlers\n  const onPresentRiskDisclaimerRef = useRef(onPresentRiskDisclaimer)\n  const onPresentChartDisclaimerRef = useRef(onPresentChartDisclaimer)\n\n  // Disclaimer\n  useEffect(() => {\n    if (!hasAcceptedRisk) {\n      onPresentRiskDisclaimerRef.current()\n    }\n  }, [hasAcceptedRisk, onPresentRiskDisclaimerRef])\n\n  // Chart Disclaimer\n  useEffect(() => {\n    if (!hasAcceptedChart && isChartPaneOpen) {\n      onPresentChartDisclaimerRef.current()\n    }\n  }, [onPresentChartDisclaimerRef, hasAcceptedChart, isChartPaneOpen])\n\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      const [staticPredictionsData, marketData] = await Promise.all([getStaticPredictionsData(), getMarketData()])\n      const { currentEpoch, intervalBlocks, bufferBlocks } = staticPredictionsData\n      const latestRound = marketData.rounds.find((round) => round.epoch === currentEpoch)\n\n      // Fetch data on current unclaimed bets\n      dispatch(fetchCurrentBets({ account, roundIds: marketData.rounds.map((round) => round.id) }))\n\n      if (marketData.market.paused) {\n        dispatch(setPredictionStatus(PredictionStatus.PAUSED))\n      } else if (latestRound && latestRound.epoch === currentEpoch) {\n        const currentRoundStartBlock = Number(latestRound.startBlock)\n        const futureRounds = []\n        const halfInterval = (intervalBlocks + bufferBlocks) / 2\n\n        for (let i = 1; i <= FUTURE_ROUND_COUNT; i++) {\n          futureRounds.push(makeFutureRoundResponse(currentEpoch + i, (currentRoundStartBlock + halfInterval) * i))\n        }\n\n        const roundData = makeRoundData([...marketData.rounds, ...futureRounds.map(transformRoundResponse)])\n\n        dispatch(\n          initialize({\n            ...(staticPredictionsData as Omit<PredictionsState, 'rounds'>),\n            historyFilter: HistoryFilter.ALL,\n            currentRoundStartBlockNumber: currentRoundStartBlock,\n            rounds: roundData,\n            history: {},\n            bets: {},\n          }),\n        )\n      } else {\n        // If the latest epoch from the API does not match the latest epoch from the contract we have an unrecoverable error\n        dispatch(setPredictionStatus(PredictionStatus.ERROR))\n      }\n    }\n\n    // Do not start initialization until the first block has been retrieved\n    if (initialBlock > 0) {\n      fetchInitialData()\n    }\n  }, [initialBlock, dispatch, account])\n\n  usePollRoundData()\n  usePollOraclePrice()\n\n  if (status === PredictionStatus.INITIAL) {\n    return <PageLoader />\n  }\n\n  return (\n    <>\n      <Helmet>\n        <script src=\"https://s3.tradingview.com/tv.js\" type=\"text/javascript\" id=\"tradingViewWidget\" />\n      </Helmet>\n      <SwiperProvider>\n        <Container>\n          {isDesktop ? <Desktop /> : <Mobile />}\n          <CollectWinningsPopup />\n        </Container>\n      </SwiperProvider>\n    </>\n  )\n}\n\nexport default Predictions\n","import BigNumber from 'bignumber.js'\nimport { Bet, BetPosition } from 'state/types'\nimport { DefaultTheme } from 'styled-components'\nimport { formatNumber, getBalanceAmount } from 'utils/formatBalance'\nimport getTimePeriods from 'utils/getTimePeriods'\n\nexport const getBnbAmount = (bnbBn: BigNumber) => {\n  return getBalanceAmount(bnbBn, 18)\n}\n\nexport const formatUsd = (usd: number) => {\n  return `$${formatNumber(usd || 0, 3, 3)}`\n}\n\nexport const formatBnb = (bnb: number) => {\n  return bnb ? bnb.toLocaleString(undefined, { minimumFractionDigits: 3, maximumFractionDigits: 3 }) : '0'\n}\n\nexport const formatToken = (token: number) => {\n  return token ? token.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 }) : '0'\n}\n\nexport const formatBnbFromBigNumber = (bnbBn: BigNumber) => {\n  return formatBnb(getBnbAmount(bnbBn).toNumber())\n}\n\nexport const padTime = (num: number) => num.toString().padStart(2, '0')\n\nexport const formatRoundTime = (secondsBetweenBlocks: number) => {\n  const { hours, minutes, seconds } = getTimePeriods(secondsBetweenBlocks)\n  const minutesSeconds = `${padTime(minutes)}:${padTime(seconds)}`\n\n  if (hours > 0) {\n    return `${padTime(hours)}:${minutesSeconds}`\n  }\n\n  return minutesSeconds\n}\n\nexport const getMultiplier = (total: number, amount: number) => {\n  if (total === 0 || amount === 0) {\n    return 0\n  }\n\n  return total / amount\n}\n\n/**\n * Calculates the total payout given a bet\n */\nexport const getPayout = (bet: Bet) => {\n  if (!bet || !bet.round) {\n    return 0\n  }\n\n  const { bullAmount, bearAmount, totalAmount } = bet.round\n  const multiplier = getMultiplier(totalAmount, bet.position === BetPosition.BULL ? bullAmount : bearAmount)\n  return bet.amount * multiplier\n}\n\n// TODO: Move this to the UI Kit\nexport const getBubbleGumBackground = (theme: DefaultTheme) => {\n  if (theme.isDark) {\n    return 'linear-gradient(139.73deg, #142339 0%, #24243D 47.4%, #37273F 100%)'\n  }\n\n  return 'linear-gradient(139.73deg, #E6FDFF 0%, #EFF4F5 46.87%, #F3EFFF 100%)'\n}\n","import { BASE_BSC_SCAN_URL } from 'config'\n\nexport const getBscScanAddressUrl = (address: string) => {\n  return `${BASE_BSC_SCAN_URL}/address/${address}`\n}\n\nexport const getBscScanTransactionUrl = (transactionHash: string) => {\n  return `${BASE_BSC_SCAN_URL}/tx/${transactionHash}`\n}\n\nexport const getBscScanBlockNumberUrl = (block: string | number) => {\n  return `${BASE_BSC_SCAN_URL}/block/${block}`\n}\n\nexport const getBscScanBlockCountdownUrl = (block: string | number) => {\n  return `${BASE_BSC_SCAN_URL}/block/countdown/${block}`\n}\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { getBep20Contract, getCakeContract } from 'utils/contractHelpers'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport useWeb3 from './useWeb3'\nimport useRefresh from './useRefresh'\nimport useLastUpdated from './useLastUpdated'\n\nconst useTokenBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(BIG_ZERO)\n  const { account } = useWeb3React()\n  const web3 = useWeb3()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress, web3)\n      const res = await contract.methods.balanceOf(account).call()\n      setBalance(new BigNumber(res))\n    }\n\n    if (account) {\n      fetchBalance()\n    }\n  }, [account, tokenAddress, web3, fastRefresh])\n\n  return balance\n}\n\nexport const useTotalSupply = () => {\n  const { slowRefresh } = useRefresh()\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\n\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const cakeContract = getCakeContract()\n      const supply = await cakeContract.methods.totalSupply().call()\n      setTotalSupply(new BigNumber(supply * 1e9))\n    }\n\n    fetchTotalSupply()\n  }, [slowRefresh])\n\n  return totalSupply\n}\n\nexport const useBurnedBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(BIG_ZERO)\n  const { slowRefresh } = useRefresh()\n  const web3 = useWeb3()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress, web3)\n      const res = await contract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call() * 1e9\n      setBalance(new BigNumber(res))\n    }\n\n    fetchBalance()\n  }, [web3, tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport const useGetBnbBalance = () => {\n  const [balance, setBalance] = useState(BIG_ZERO)\n  const { account } = useWeb3React()\n  const { lastUpdated, setLastUpdated } = useLastUpdated()\n  const web3 = useWeb3()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const walletBalance = await web3.eth.getBalance(account)\n      setBalance(new BigNumber(walletBalance))\n    }\n\n    if (account) {\n      fetchBalance()\n    }\n  }, [account, web3, lastUpdated, setBalance])\n\n  return { balance, refresh: setLastUpdated }\n}\n\nexport default useTokenBalance\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { Contract } from 'web3-eth-contract'\nimport { getLotteryAddress, getPredictionsWithTokenAddress } from 'utils/addressHelpers'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { useCake } from './useContract'\nimport useRefresh from './useRefresh'\n\n// Retrieve lottery allowance\nexport const usePredictionAllowance = () => {\n  const [allowance, setAllowance] = useState(BIG_ZERO)\n  const { account } = useWeb3React()\n  const cakeContract = useCake()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchAllowance = async () => {\n      const res = await cakeContract.methods.allowance(account, getPredictionsWithTokenAddress()).call()\n      setAllowance(new BigNumber(res))\n    }\n\n    if (account) {\n      fetchAllowance()\n    }\n  }, [account, cakeContract, fastRefresh])\n\n  return allowance\n}\n\n// Retrieve lottery allowance\nexport const useLotteryAllowance = () => {\n  const [allowance, setAllowance] = useState(BIG_ZERO)\n  const { account } = useWeb3React()\n  const cakeContract = useCake()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchAllowance = async () => {\n      const res = await cakeContract.methods.allowance(account, getLotteryAddress()).call()\n      setAllowance(new BigNumber(res))\n    }\n\n    if (account) {\n      fetchAllowance()\n    }\n  }, [account, cakeContract, fastRefresh])\n\n  return allowance\n}\n\n// Retrieve IFO allowance\nexport const useIfoAllowance = (tokenContract: Contract, spenderAddress: string, dependency?: any): BigNumber => {\n  const { account } = useWeb3React()\n  const [allowance, setAllowance] = useState(BIG_ZERO)\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const res = await tokenContract.methods.allowance(account, spenderAddress).call()\n        setAllowance(new BigNumber(res))\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    if (account) {\n      fetch()\n    }\n  }, [account, spenderAddress, tokenContract, dependency])\n\n  return allowance\n}\n","import React from 'react'\nimport { Progress, ProgressProps } from '@pancakeswap/uikit'\nimport { useBlock } from 'state/hooks'\n\ninterface BlockProgressProps extends ProgressProps {\n  startBlock: number\n  endBlock: number\n}\n\nconst BlockProgress: React.FC<BlockProgressProps> = ({ startBlock, endBlock, ...props }) => {\n  const { currentBlock } = useBlock()\n  const rawProgress = ((currentBlock - startBlock) / (endBlock - startBlock)) * 100\n  const progress = rawProgress <= 100 ? rawProgress : 100\n\n  return <Progress primaryStep={progress} {...props} />\n}\n\nexport default BlockProgress\n","import { useEffect, useRef, useState } from 'react'\nimport { BSC_BLOCK_TIME } from 'config'\nimport { getWeb3NoAccount } from 'utils/web3'\n\n/**\n * Returns a countdown in seconds of a given block\n */\nconst useBlockCountdown = (blockNumber: number) => {\n  const timer = useRef<ReturnType<typeof setTimeout>>(null)\n  const [secondsRemaining, setSecondsRemaining] = useState(0)\n\n  useEffect(() => {\n    const startCountdown = async () => {\n      const web3 = getWeb3NoAccount()\n      const currentBlock = await web3.eth.getBlockNumber()\n\n      if (blockNumber > currentBlock) {\n        setSecondsRemaining((blockNumber - currentBlock) * BSC_BLOCK_TIME)\n\n        // Clear previous interval\n        if (timer.current) {\n          clearInterval(timer.current)\n        }\n\n        timer.current = setInterval(() => {\n          setSecondsRemaining((prevSecondsRemaining) => {\n            if (prevSecondsRemaining === 1) {\n              clearInterval(timer.current)\n            }\n\n            return prevSecondsRemaining - 1\n          })\n        }, 1000)\n      }\n    }\n\n    startCountdown()\n\n    return () => {\n      clearInterval(timer.current)\n    }\n  }, [setSecondsRemaining, blockNumber, timer])\n\n  return secondsRemaining\n}\n\nexport default useBlockCountdown\n"],"sourceRoot":""}